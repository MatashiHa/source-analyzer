<!DOCTYPE html>
<html lang="ru">

  <head>
    <title>Эй-Яй, крипта, MLOps и командный пет-проджект &#x2F; Хабр</title>
<meta property="fb:app_id" content="444736788986613">
<meta property="fb:pages" content="472597926099084">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@habr_com">
<meta property="og:site_name" content="Хабр">
<link href="https://habr.com/ru/rss/post/673376/?fl=ru" type="application/rss+xml" title rel="alternate" name="rss">
<link href="https://habr.com/ru/companies/ods/articles/673376/" rel="canonical" data-hid="e3fa780">
<link rel="image_src" href="https://habrastorage.org/getpro/habr/upload_files/f61/ec1/0cd/f61ec10cdec6c32ebca0f4d3b0dc9f5e.png" data-hid="2a79c45">
<link rel="amphtml" href="https://habr.com/ru/amp/publications/673376/">
<meta property="og:title" content="Эй-Яй, крипта, MLOps и командный пет-проджект">
<meta name="twitter:title" content="Эй-Яй, крипта, MLOps и командный пет-проджект">
<meta name="aiturec:title" content="Эй-Яй, крипта, MLOps и командный пет-проджект">
<meta name="description" content="Привет! Усаживайтесь поудобней, в этой статье я расскажу, как мы командой пилили пет-проджект в рамках курса ODS по MLOps. Покажу не только финальный результат, но и немного расскажу про процесс...">
<meta itemprop="description" content="Привет! Усаживайтесь поудобней, в этой статье я расскажу, как мы командой пилили пет-проджект в рамках курса ODS по MLOps. Покажу не только финальный результат, но и немного расскажу про процесс...">
<meta property="og:description" content="Привет! Усаживайтесь поудобней, в этой статье я расскажу, как мы командой пилили пет-проджект в рамках курса ODS по MLOps. Покажу не только финальный результат, но и немного расскажу про процесс...">
<meta name="twitter:description" content="Привет! Усаживайтесь поудобней, в этой статье я расскажу, как мы командой пилили пет-проджект в рамках курса ODS по MLOps. Покажу не только финальный результат, но и немного расскажу про процесс...">
<meta property="aiturec:description" content="Привет! Усаживайтесь поудобней, в этой статье я расскажу, как мы командой пилили пет-проджект в рамках курса ODS по MLOps. Покажу не только финальный результат, но и немного расскажу про процесс...">
<meta itemprop="image" content="https://habrastorage.org/getpro/habr/upload_files/f61/ec1/0cd/f61ec10cdec6c32ebca0f4d3b0dc9f5e.png">
<meta property="og:image" content="https://habrastorage.org/getpro/habr/upload_files/f61/ec1/0cd/f61ec10cdec6c32ebca0f4d3b0dc9f5e.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="aiturec:image" content="https://habrastorage.org/getpro/habr/upload_files/f61/ec1/0cd/f61ec10cdec6c32ebca0f4d3b0dc9f5e.png">
<meta name="twitter:image" content="https://habrastorage.org/getpro/habr/upload_files/f61/ec1/0cd/f61ec10cdec6c32ebca0f4d3b0dc9f5e.png">
<meta property="vk:image" content="https://habrastorage.org/getpro/habr/upload_files/f61/ec1/0cd/f61ec10cdec6c32ebca0f4d3b0dc9f5e.png?format=vk">
<meta property="vk:image" content="https://habrastorage.org/getpro/habr/upload_files/f61/ec1/0cd/f61ec10cdec6c32ebca0f4d3b0dc9f5e.png?format=vk">
<meta property="aiturec:item_id" content="673376">
<meta property="aiturec:datetime" content="2022-06-30T13:01:16.000Z">
<meta content="https://habr.com/ru/companies/ods/articles/673376/" property="og:url">
<meta property="og:type" content="article">
<meta property="og:locale" content="ru_RU">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="keywords" content="bitcoin, machine learning, docker-compose, docker, api, pet-project, mlops, scrum, okr, teamwork">
<script type="application/ld+json" data-hid="1e0f0a2">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/companies\/ods\/articles\/673376\/"},"headline":"Эй-Яй, крипта, MLOps и командный пет-проджект","datePublished":"2022-06-30T16:01:16+03:00","dateModified":"2022-07-04T23:35:27+03:00","author":{"@type":"Person","name":"Yury Kashnitsky"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Привет! Усаживайтесь поудобней, в этой статье я расскажу, как мы командой пилили пет-проджект в рамках курса ODS по MLOps. Покажу не только финальный результат,...","url":"https:\/\/habr.com\/ru\/companies\/ods\/articles\/673376\/#post-content-body","about":["c_ods","h_open_source","h_data_mining","h_machine_learning","h_pm","f_develop","f_management"],"image":["https:\/\/habr.com\/share\/publication\/673376\/b6c4ce15346ff7ae150de7954b74555c\/","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/f61\/ec1\/0cd\/f61ec10cdec6c32ebca0f4d3b0dc9f5e.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/b81\/111\/04f\/b8111104f7e886eecdef5740a443ea01.jpeg","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/db9\/ed8\/38a\/db9ed838ad9ba0fd3a064428ec6847f0.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/4b4\/95a\/d3f\/4b495ad3f4915674d1158092d14b5a1e.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/4df\/cb4\/4d8\/4dfcb44d8de8bc05d7748833afa90bce.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/93f\/93f\/375\/93f93f37547b6b1b77f7c40528205f47.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/aaf\/53a\/4fb\/aaf53a4fb0adf432c5b57701b01fed6d.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/437\/893\/a4a\/437893a4ac75e3502bfa75479f2544cd.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/75b\/8af\/16b\/75b8af16ba673af59f9096763755fc2b.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/810\/06f\/0d1\/81006f0d11096300326e2519cbe83e8b.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/595\/eb0\/55f\/595eb055f882fb1cc7391cc88b040fbf.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/944\/b92\/1db\/944b921dbd2f4616d7a3a561bac0e9a4.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/6f3\/a44\/eb7\/6f3a44eb729e26a192c36d9706b69187.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/998\/5d7\/927\/9985d792727fc72288b6c05a0f8b0269.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/3fd\/2bc\/cab\/3fd2bccabd48cf881730cc98f16bab7d.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/093\/1af\/f20\/0931aff202e6f0af8db5e69376765748.png","https:\/\/habrastorage.org\/getpro\/habr\/upload_files\/b9b\/19d\/de1\/b9b19dde1b507e5f0076ae917d827f7e.png"]}</script>
    <meta charset="UTF-8">
    <meta name="viewport"
      content="width=device-width,initial-scale=1.0,viewport-fit=cover,maximum-scale=1,user-scalable=0">
    <meta name="referrer" content="unsafe-url">
    <style>
      /* cyrillic-ext */
      @font-face {
        font-family: 'Fira Sans';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/firasans/v17/va9E4kDNxMZdWfMOD5VvmojLazX3dGTP.woff2) format('woff2');
        unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
      }

      /* cyrillic */
      @font-face {
        font-family: 'Fira Sans';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/firasans/v17/va9E4kDNxMZdWfMOD5Vvk4jLazX3dGTP.woff2) format('woff2');
        unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
      }

      /* latin-ext */
      @font-face {
        font-family: 'Fira Sans';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/firasans/v17/va9E4kDNxMZdWfMOD5VvmYjLazX3dGTP.woff2) format('woff2');
        unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
      }

      /* latin */
      @font-face {
        font-family: 'Fira Sans';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/firasans/v17/va9E4kDNxMZdWfMOD5Vvl4jLazX3dA.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }

      /* cyrillic-ext */
      @font-face {
        font-family: 'Fira Sans';
        font-style: normal;
        font-weight: 500;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnZKveSxf6Xl7Gl3LX.woff2) format('woff2');
        unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
      }

      /* cyrillic */
      @font-face {
        font-family: 'Fira Sans';
        font-style: normal;
        font-weight: 500;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnZKveQhf6Xl7Gl3LX.woff2) format('woff2');
        unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
      }

      /* latin-ext */
      @font-face {
        font-family: 'Fira Sans';
        font-style: normal;
        font-weight: 500;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnZKveSBf6Xl7Gl3LX.woff2) format('woff2');
        unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
      }

      /* latin */
      @font-face {
        font-family: 'Fira Sans';
        font-style: normal;
        font-weight: 500;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnZKveRhf6Xl7Glw.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }

      /* cyrillic-ext */
      @font-face {
        font-family: 'Fira Sans';
        font-style: normal;
        font-weight: 700;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnLK3eSxf6Xl7Gl3LX.woff2) format('woff2');
        unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
      }

      /* cyrillic */
      @font-face {
        font-family: 'Fira Sans';
        font-style: normal;
        font-weight: 700;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnLK3eQhf6Xl7Gl3LX.woff2) format('woff2');
        unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
      }

      /* latin-ext */
      @font-face {
        font-family: 'Fira Sans';
        font-style: normal;
        font-weight: 700;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnLK3eSBf6Xl7Gl3LX.woff2) format('woff2');
        unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
      }

      /* latin */
      @font-face {
        font-family: 'Fira Sans';
        font-style: normal;
        font-weight: 700;
        font-display: swap;
        src: url(https://fonts.gstatic.com/s/firasans/v17/va9B4kDNxMZdWfMOD5VnLK3eRhf6Xl7Glw.woff2) format('woff2');
        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
      }
    </style>
    <link rel="preload" href="https://assets.habr.com/habr-web/css/theme/light-v1.css" as="style" media="(prefers-color-scheme: light)" /><link rel="preload" href="https://assets.habr.com/habr-web/css/theme/dark-v1.css" as="style" media="(prefers-color-scheme: dark)" /><link id="light-colors" rel="stylesheet" href="https://assets.habr.com/habr-web/css/theme/light-v1.css" media="(prefers-color-scheme: light)" /><link id="dark-colors" rel="stylesheet" href="https://assets.habr.com/habr-web/css/theme/dark-v1.css" media="(prefers-color-scheme: dark)" />
    <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.635b6c39236ebd33fa716c71ab0131a0.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
    <style>
      .grecaptcha-badge {
        visibility: hidden;
      }
    </style>
    <meta name="habr-version" content="2.241.0">
    
    <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
    <meta name="msapplication-TileColor" content="#629FBC">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="shortcut icon" type="image/png" sizes="16x16" href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png">
    <link rel="shortcut icon" type="image/png" sizes="32x32" href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png">
    <link rel="apple-touch-icon" type="image/png" sizes="76x76" href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png">
    <link rel="apple-touch-icon" type="image/png" sizes="120x120" href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png">
    <link rel="apple-touch-icon" type="image/png" sizes="152x152" href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png">
    <link rel="apple-touch-icon" type="image/png" sizes="256x256" href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png">
    <link rel="apple-touch-startup-image"
      media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
      href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png">
    <link rel="mask-icon" color="#77a2b6" href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg">
    <link crossorigin="use-credentials" href="/manifest.webmanifest" rel="manifest">
    <script async src="https://unpkg.com/pwacompat" crossorigin="anonymous"></script>
    <script>window.yaContextCb = window.yaContextCb || []</script>
    <script src="https://yandex.ru/ads/system/context.js" async></script>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.04465f7c.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.978df117.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.8599692f.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.58b8c457.js" as="script"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.04465f7c.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.8599692f.css"></head>
  <body>
    
    <div id="mount"><div id="app"><div class="tm-layout__wrapper"><!--[--><!----><div></div><!----><header class="tm-header" data-test-id="header"><div class="tm-page-width"><!--[--><div class="tm-header__container"><!----><span class="tm-header__logo-wrap"><a class="tm-header__logo tm-header__logo_hl-ru tm-header__logo" href="/ru/"><svg class="tm-svg-img tm-header__icon" height="16" width="16"><title>Хабр</title><use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a><span style="display:none;" class="tm-header__beta-sign">β</span></span><!--[--><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><!--[--><button class="tm-header__dropdown-toggle"><svg class="tm-svg-img tm-header__icon tm-header__icon_dropdown" height="16" width="16"><title>Открыть список</title><use xlink:href="/img/megazord-v28.7909a852..svg#arrow-down"></use></svg></button><!--]--></div><!----></div><a href="/ru/sandbox/start/" class="tm-header__become-author-btn">Как стать автором</a><div class="tm-feature tm-feature tm-feature_variant-inline tm-header__feature"><!----></div><!----><!--]--><!----></div><!--]--></div></header><div class="tm-layout"><div class="tm-page-progress-bar"></div><div class="tm-base-layout__header_is-sticky tm-base-layout__header" data-menu-sticky="true"><div class="tm-page-width"><!--[--><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/feed/">Моя лента</a><!--]--><!--[--><a class="tm-main-menu__item" href="/ru/articles/">Все потоки</a><!--]--><!--[--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/develop/">Разработка</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/admin/">Администрирование</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/design/">Дизайн</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/management/">Менеджмент</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/marketing/">Маркетинг</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/popsci/">Научпоп</a><!--]--><!--]--></nav></div></div><div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search" data-test-id="search-button"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark" height="24" width="24"><title>Поиск</title><use xlink:href="/img/megazord-v28.7909a852..svg#search"></use></svg></a><!----><!----><div class="tm-header-user-menu__item tm-header-user-menu__write"><div><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_write tm-header-user-menu__icon_dark" height="24" width="24"><title>Написать публикацию</title><use xlink:href="/img/megazord-v28.7909a852..svg#write"></use></svg></div><!----></div><!--[--><div class="tm-header-user-menu__item"><button class="tm-header-user-menu__toggle" data-test-id="user-menu-settings"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_dark" height="24" width="24"><title>Настройки</title><use xlink:href="/img/megazord-v28.7909a852..svg#page-settings"></use></svg></button></div><a href="https://habr.com/kek/v1/auth/habrahabr/?back=/ru/companies/ods/articles/673376/&amp;hl=ru" rel="nofollow" class="tm-header-user-menu__item"><!--[--><button class="btn btn_solid btn_small tm-header-user-menu__login" type="button"><!--[-->Войти<!--]--></button><!--]--></a><!--]--><!----><!--teleport start--><!--teleport end--><!----></div></div><!--]--></div></div><!----><div class="tm-page-width"><!--[--><!--]--></div><main class="tm-layout__container"><div class="tm-page" hl="ru" companyname="ods" data-async-called="true" style="--5ab2e5a8:16px;--44c4f6f6:100%;--45ba7a3b:0;"><div class="tm-page-width"><!--[--><div class="tm-page__header"><!--[--><!--]--></div><div class="tm-page__wrapper"><div class="tm-page__main_has-sidebar tm-page__main"><div class="pull-down"><!----><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg class="tm-svg-img pull-down__icon pull-down__arrow" height="24" width="24"><title>Обновить</title><use xlink:href="/img/megazord-v28.7909a852..svg#pull-arrow"></use></svg></div></div><!--[--><!--[--><div class="tm-article-presenter"><!--[--><!--[--><!----><div class="tm-company-profile-card tm-company-article__profile-card"><div class="tm-company-card tm-company-profile-card__info"><div class="tm-company-card__header"><a href="/ru/companies/ods/profile/" class="tm-company-card__avatar"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="48" src="//habrastorage.org/getpro/habr/company/5d0/e1e/b70/5d0e1eb7036b66d4ff4a35ad6950cc3e.png" width="48"></div></a><!--[--><!----><div class="tm-counter-container tm-company-card__rating"><div class="tm-counter-container__header"><!--[--><!--[--><!--]--><div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!----><div class="tm-votes-lever__score tm-votes-lever__score_appearance-rating tm-votes-lever__score"><!--[--><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_rating tm-votes-lever__score-counter" data-test-id="votes-score-counter">80.69</span></span><!--]--></div><!----></div><!--]--></div><div class="tm-counter-container__footer"><!--[--><span class="tm-rating__text tm-rating__text">Рейтинг</span><!--]--></div></div><!----><!--]--></div><div class="tm-company-card__info"><a href="/ru/companies/ods/profile/" class="tm-company-card__name"><span>Open Data Science</span></a><div class="tm-company-card__description">Крупнейшее русскоязычное Data Science сообщество</div></div></div><div class="tm-company-profile-card__buttons"><div class="tm-button-follow tm-company-profile-card__button tm-company-profile-card__button_follow"><!----><button class="tm-button-follow__button tm-button-follow__button_big" data-test-id="follow-button" type="button">Подписаться</button></div><!----><!----><!----></div></div><!----><!--]--><!--]--><div class="tm-article-presenter__body" data-test-id="article-body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><!--[--><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><!--[--><div class="tm-article-presenter__header"><!--[--><!--]--><div class="tm-article-snippet tm-article-snippet tm-article-presenter__snippet"><!--[--><!--]--><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/yorko/" class="tm-user-info__userpic" data-test-id="user-info-pic" title="yorko"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/35c/103/5f8/35c1035f81d5a6fc6c376a67289a2a36.jpg" width="24"></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a href="/ru/users/yorko/" class="tm-user-info__username">yorko <!----></a><!--[--><span class="tm-article-datetime-published"><time datetime="2022-06-30T13:01:16.000Z" title="2022-06-30, 16:01">30  июн  2022 в 16:01</time></span><!--]--></span></span></div><!----></div><h1 class="tm-title tm-title_h1" lang="ru" data-test-id="articleTitle"><span>Эй-Яй, крипта, MLOps и командный пет-проджект</span></h1><div class="tm-article-snippet__stats" data-test-id="articleStats"><!----><div class="tm-article-reading-time"><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Время на прочтение</title><use xlink:href="/img/megazord-v28.7909a852..svg#clock"></use></svg></span><span class="tm-article-reading-time__label">16 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><svg class="tm-svg-img tm-icon-counter__icon" height="24" width="24"><title>Количество просмотров</title><use xlink:href="/img/megazord-v28.7909a852..svg#counter-views"></use></svg><span class="tm-icon-counter__value" title="10451">10K</span></span></div><div class="tm-publication-hubs__container" data-test-id="articleHubsList"><div class="tm-publication-hubs"><!--[--><span class="tm-publication-hub__link-container"><a href="/ru/companies/ods/articles/" class="tm-publication-hub__link"><!--[--><span>Блог компании Open Data Science</span><!----><!--]--></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/open_source/" class="tm-publication-hub__link"><!--[--><span>Open source</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/data_mining/" class="tm-publication-hub__link"><!--[--><span>Data Mining</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/machine_learning/" class="tm-publication-hub__link"><!--[--><span>Машинное обучение</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><span class="tm-publication-hub__link-container"><a href="/ru/hubs/pm/" class="tm-publication-hub__link"><!--[--><span>Управление проектами</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><!--]--></div></div><!----><!----><!----></div></div><!--[--><!----><div class="tm-article-body" data-gallery-root lang="ru"><div><!--[--><!--]--></div><div id="post-content-body"><div><div class="article-formatted-body article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><p>Привет! Усаживайтесь поудобней, в этой статье я расскажу, как мы командой пилили пет-проджект в рамках <a href="https://ods.ai/tracks/ml-in-production-spring-22"><u>курса</u></a> ODS по MLOps. Покажу не только финальный результат, но и немного расскажу про процесс работы, какие были сложности, как организовывали эффективную работу в команде. Может оказаться полезным для тех, кто хочет окунуться в Machine Learning и сделать свой пет-проджект, но пока чего-то не хватало. Также будет полезно тем, кто уже работает в области Data Science, но пока не окунулся в атмосферу DS, нет крутых коллег и разговоров про фреймворки у кофемашины, а опыт командной работы именно в области DS получить хочется. Наконец, даже если Machine Learning не актуален, полезно будет почитать про организацию работы в рамках пет-проджекта, про хаки, к которым мы пришли. </p><p>Сразу про то, что получилось на выходе: <a href="https://cryptobarometer.org/"><u>https://cryptobarometer.org/</u></a></p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/f61/ec1/0cd/f61ec10cdec6c32ebca0f4d3b0dc9f5e.png" alt="Yet another барометр тональности криптоновостей" title="Yet another барометр тональности криптоновостей" width="2578" height="1444" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/f61/ec1/0cd/f61ec10cdec6c32ebca0f4d3b0dc9f5e.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/f61/ec1/0cd/f61ec10cdec6c32ebca0f4d3b0dc9f5e.png 781w" loading="lazy" decode="async"/><figcaption>Yet another барометр тональности криптоновостей</figcaption></figure><p>Первая часть статьи – про предысторию проекта, а также про мотивацию попилить командный проект. </p><p>Вторая часть – инженерная, про приложение, архитектуру, решение на основе машинного обучения, а также прикладные исследования, которые мы провели. Эта часть подразумевает, что читатель знаком с основами машинного обучения (если нет – <a href="https://vas3k.ru/blog/machine_learning/"><u>вот пост</u></a> vas3k “Машинное обучение для людей”). </p><p>Третья часть – про организацию работы, сложности, с которыми мы столкнулись, и хаки, повышающие продуктивность команды, к которым мы в итоге пришли. </p><h2>Предыстория </h2><p>Я как-то знакомился с SoTA в NLP, делал для стартапа сентимент-анализ новостей о криптовалютах. Ребята начинали с майнинга, накупили 4500 (!) GPU, потом вдруг поняли, что девать их некуда, а биток майнить надо не на GPU, да и электричество в Москве уже дорогое. Переключились на онлайн-банкинг, позволяющий в один щелчок покупать биток в мобильном приложении. Заодно решили добавить AI в питч-дэки, и так я с нуля начал предсказывать сентимент новостей о криптовалютах. Идея в том, что инвестор с утреца берет кофе, читает газеты и составляет некое своем представление о “тональности” новостей о крипте, это может косвенно влиять на его решения о купле/продаже битка.</p><p>Вот наиболее релевантный существующий <a href="https://alternative.me/crypto/fear-and-greed-index/"><u>проект</u></a> «Crypto Fear &amp; Greed Index»</p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/b81/111/04f/b8111104f7e886eecdef5740a443ea01.jpeg" alt="Crypto Fear &amp; Greed Index" title="Crypto Fear &amp; Greed Index" width="2356" height="682" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/b81/111/04f/b8111104f7e886eecdef5740a443ea01.jpeg 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/b81/111/04f/b8111104f7e886eecdef5740a443ea01.jpeg 781w" loading="lazy" decode="async"/><figcaption>Crypto Fear &amp; Greed Index</figcaption></figure><p>Но далее с очередным раундом были сложности, все опять ушло в майнинг, а про Эй-Яй забыли. Так у меня на руках остался веселый недоделанный проект, а также: </p><figure class="float full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/db9/ed8/38a/db9ed838ad9ba0fd3a064428ec6847f0.png" width="1106" height="1586" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/db9/ed8/38a/db9ed838ad9ba0fd3a064428ec6847f0.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/db9/ed8/38a/db9ed838ad9ba0fd3a064428ec6847f0.png 781w" loading="lazy" decode="async"/><figcaption></figcaption></figure><p>Около 4.5к коротких новостей о крипте (типа <a href="https://bitcointicker.co/news/"><u>таких</u></a>), размеченных на 3 класса: +/-/neutral;                                              Список ресурсов с новостями о криптовалютах, которые стоит обкачивать + PHP-краулер – чисто FYI, использовать я его все равно не собирался ибо PHP, а я датасаентист, уверенно владеющий только питоном;                                    Горстка жупитер-нубуков с вариацией разных подходов, в частности, золотой бейзлайн tf-idf &amp; logreg, подбирающийся к 75% accuracy на кросс-валидации; <a href="https://share.streamlit.io/yorko/bitcoin_sentiment_streamlit/main/src/app.py"><u>Демка</u></a> в Streamlit с уже более-менее нормальным <a href="https://github.com/crypto-sentiment/crypto_sentiment_tfidf_logreg_streamlit"><u>кодом</u></a><u>.</u></p><h2>Мотивация</h2><p>Сразу скажу примерно то же, что я выдал стартапу в самом начале: прогнозировать курс битка я не собираюсь. В принципе верю, что можно для этого как-то заюзать тональность новостей (все понимают, что одни только твиты Маска могут неплохо работать), но также поверю своему хорошему другу (а заодно executive director в лондонском голдмане), который утверждает, что без команды из ~10 умных ребят, работающих full-time, побить рыночек очень сложно, почти нереально. Так что я остановился чисто на анализе тональности. </p><p>Цели участия в проекте были следующие:</p><ul><li><p>Получить практический технический опыт в сфере MLOps, который можно переиспользовать на работе. Так совпало, что я на работе как раз в это время координировал DS-ов и инженеров в работе над собственной MLOps-платформой, много и сам делал руками, так что курс по MLOps попался под руку очень вовремя;</p></li><li><p>Попрактивовать командную работу: планирование, code-review и т.д. Это более-менее понятно, когда гребешь на галере, а вот когда все на чистом энтузиазме делается да в свободное время, тут свои челленджи (например, нет ресурса, чтоб с каждым членом команды провести час в неделю и все обсудить);</p></li><li><p>Лично мне не хотелось бросать на полпути недоделанный проект, так что хотелось хотя бы как пет-проджект довести его до ума;</p></li><li><p>На выходе иметь демку и проект, которыми не стыдно поделиться, в том числе и на собесе. Как, например, <a href="https://draw-digit-predict.herokuapp.com/">распознавалка цифр</a> в исполнении Андрея Лукьяненко.</p></li></ul><p>Замечу, что не было цели сделать что-то реально крутое именно в области крипты, скажем, создать API и продавать прогнозы модели. Первичной целью был все же MLOps, а задача анализа тональности просто попалась под руку, или, скорее, была расчехлена и спущена с пыльной полки с желанием довести ее до ума. </p><h2>Что получилось на выходе</h2><p>Покажу еще раз фронтенд <a href="https://cryptobarometer.org/">https://cryptobarometer.org/</a></p><p>Есть барометр, показывающий среднюю тональность за сутки, также показываются средние значения тональности неделю назад, месяц назад и строится график этой метрики во времени. Еще показываются несколько последних новостей вместе с прогнозами (можно заметить, что фильтрацию новостей все еще можно улучшать: <em>"Iran to shut down Bitcoin miners as electricity demand spikes"</em> – точно плохая новость, а вот <em>"ETC [Etherium Classic] turties should note down these points before setting trigger"</em> - не совсем-то и новость).</p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/4b4/95a/d3f/4b495ad3f4915674d1158092d14b5a1e.png" alt="Барометр, исторические значения тональности и последние новости" title="Барометр, исторические значения тональности и последние новости" width="2578" height="1444" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/4b4/95a/d3f/4b495ad3f4915674d1158092d14b5a1e.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/4b4/95a/d3f/4b495ad3f4915674d1158092d14b5a1e.png 781w" loading="lazy" decode="async"/><figcaption>Барометр, исторические значения тональности и последние новости</figcaption></figure><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/4df/cb4/4d8/4dfcb44d8de8bc05d7748833afa90bce.png" alt="График средней тональности новостей во времени" title="График средней тональности новостей во времени" width="2568" height="1278" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/4df/cb4/4d8/4dfcb44d8de8bc05d7748833afa90bce.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/4df/cb4/4d8/4dfcb44d8de8bc05d7748833afa90bce.png 781w" loading="lazy" decode="async"/><figcaption>График средней тональности новостей во времени</figcaption></figure><p>Также можно поиграться с моделью – ввести произвольный текст и получить прогнозы – предсказанные значения положительной, нейтральной и негативной тональности. </p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/93f/93f/375/93f93f37547b6b1b77f7c40528205f47.png" alt="Интерактивные прогнозы модели для текста, введенного пользователем" title="Интерактивные прогнозы модели для текста, введенного пользователем" width="2566" height="980" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/93f/93f/375/93f93f37547b6b1b77f7c40528205f47.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/93f/93f/375/93f93f37547b6b1b77f7c40528205f47.png 781w" loading="lazy" decode="async"/><figcaption>Интерактивные прогнозы модели для текста, введенного пользователем</figcaption></figure><p>Это все приятный фронтенд. Теперь бэкенд (<em>тут я пересилил желание вставить пару мемов про фронт vs. бэк</em>). </p><p>Финальная схема архитектуры приложения выглядит так:</p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/aaf/53a/4fb/aaf53a4fb0adf432c5b57701b01fed6d.png" alt="Финальная версия архитектуры приложения " title="Финальная версия архитектуры приложения " width="2771" height="1646" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/aaf/53a/4fb/aaf53a4fb0adf432c5b57701b01fed6d.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/aaf/53a/4fb/aaf53a4fb0adf432c5b57701b01fed6d.png 781w" loading="lazy" decode="async"/><figcaption>Финальная версия архитектуры приложения
</figcaption></figure><p>Логика такая:</p><ul><li><p>в <em>базе </em>есть<em> </em>таблицы для неразмеченных новостей, прогнозов модели и размеченных новостей;</p></li><li><p><em>краулер</em> ходит в веб, забирает свежие новости и кладет их в <em>базу. </em></p></li><li><p>есть обученная модель и <em>model API, </em>к которому можно обратиться с любым текстом и получить в ответ предсказанные значения для положительной, нейтральной и негативной тональности</p></li><li><p>сервис <em>model scorer</em>  проверяет<em> </em>свежие новости в <em>базе</em>, если есть, то забирает все новости без прогнозов, дергает<em> model API, </em>получает прогнозы и пишет новости в базу с флагом, что эти новости уже "проскорены";</p></li><li><p>есть <em>MLFlow-сервер</em> и сервис по обучению моделей <em>model trainer, </em>который<em> </em>забирает данные из базы, обучает модель и логирует артефакты с MLFlow. MLFlow, в свою очередь, использует Minio для хранения артефактов моделей (model registry);</p></li><li><p>перед <em>базой </em>мы поставили <em>Data Provider API</em>, у которого различные сервисы могут запросить данные, например, последние 10 новостей, вместо того чтобы ходить напрямую в <em>базу;</em></p></li><li><p><em>фронтенд</em> получает метрики у <em>Data Provider API, </em>а также может напрямую обращаться к <em>model API, </em>чтоб выдавать прогноз для текста, введенного пользователем;</p></li><li><p><em>Label Studio</em> умеет забирать новости из <em>базы на </em>разметку,<em> </em>предлагает пользователям интерфейс для разметки данных, а также умеет экспортировать размеченные данные в <em>базу;</em></p></li><li><p>наконец, есть <em>Scheduler</em>, запускающий по графику <em>краулер</em>, <em>model scorer</em> и <em>Label Studio, </em>так что каждые 6 часов качаются свежие новости, размечаются моделью, импортируются на разметку, а также раз в сутки размеченные новости экспортируются в <em>базу.</em></p></li></ul><p>Все эти сервисы разворачиваются с docker-compose, как именно – можно посмотреть в <a href="https://github.com/crypto-sentiment/crypto_sentiment_demo_app">репозитории</a>.</p><p> Давайте теперь пройдемся по каждому из компонентов более детально.</p><h3>База Postgres</h3><p>Мы пришли к такой схеме таблиц</p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/437/893/a4a/437893a4ac75e3502bfa75479f2544cd.png" alt="Схема таблиц с данными" title="Схема таблиц с данными" width="1600" height="881" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/437/893/a4a/437893a4ac75e3502bfa75479f2544cd.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/437/893/a4a/437893a4ac75e3502bfa75479f2544cd.png 781w" loading="lazy" decode="async"/><figcaption>Схема таблиц с данными</figcaption></figure><p>Есть таблица с сырыми новостями <code>news_titles</code>:</p><ul><li><p>ID новости (<code>title_id</code>);</p></li><li><p>Название новости (<code>title</code>);</p></li><li><p>Источник новости (<code>source</code>);</p></li><li><p>Дата публикации (<code>pub_time</code>).</p></li></ul><p>Краулер пишет новости именно в эту таблицу.</p><p> Также есть таблица <code>model_predictions</code> с прогнозами модели для каждой новости:</p><ul><li><p>ID новости (<code>title_id</code>);</p></li><li><p>3 поля под каждый класс – предсказанная вероятность того, что новость имеет положительную (<code>positive</code>), нейтральную (<code>neutral</code>) и негативную тональность (<code>negative</code>);</p></li><li><p>Также помимо предсказанных вероятностей удобно хранить и предсказанный класс – 0, 1 или 2 в зависимости от значений <code>positive</code>, <code>neutral</code>, <code>negative</code>;</p></li><li><p>Наконец, есть флаг <code>is_annotating</code>, чтоб мы знали, какие новости мы уже утащили в LabelStudio на разметку, а какие еще нет.</p></li></ul><p>И еще есть таблица <code>labeled_news_titles</code> для размеченных новостей, экспортированных из LabelStudio:</p><ul><li><p>ID новости (<code>title_id</code>);</p></li><li><p><code>label</code> (0, 1, 2) - в зависимости от ручной разметки в интерфейсе LabelStudio;</p></li><li><p><code>annotation_time</code>  – время разметки.</p></li></ul><h3>Краулер</h3><p>Краулер обкачивает отобранные RSS-фиды (<a href="https://github.com/crypto-sentiment/crypto_sentiment_demo_app/blob/main/data/crypto_rss_feeds.txt">список</a> можно найти в нашей репе) и делает фильтрацию: выкидывает все что не на английском, оставляет только тексты с глаголом (сложно представить новость без единого глагола) и т.д. Далее краулер пишет отфильтрованные новости в таблицу <code>news_titles</code>.</p><p>Шаг с фильтрацией новостей довольно важен. Оглядываясь назад, при разметке данных мы бы еще просили указать, считает ли эксперт строку текста вообще новостью или нет. Таким образом, была бы надежда, что ML-модель сможет выучить и этот сигнал, помимо тональности. И сейчас у нас в приложении <a href="https://cryptobarometer.org/"><u>https://cryptobarometer.org/</u></a> можно найти “новости”, которые не очень-то и похожи на новости, например:</p><ul><li><p>“<em>Law Decoded, June 13-20: Celcius exodus and liqudity crisis</em>” (этот кусок текста остался, видимо, из-за слова decoded, перепутанного с глаголом. Модель среагировала на <em>liqudity crisis </em>и выдала всего 1/100, посчитав данный кусок текста очень плохой новостью);</p></li><li><p><em>ETC [Etherium Classic] turties should note down these points before setting trigger </em>(тоже не новость).</p></li></ul><p>Конечно, краулер можно улучшать и улучшать, например добавлять твиты влиятельных людей (их легко найти, там далеко не один только Маск), делать более строгую фильтрацию, и т.д.</p><h3>API модели</h3><p>Тут уместно рассказать чуть подробней про задачу и модель, к которой мы в итоге пришли.</p><p>В начале у нас было 4500 новостей, размеченных на 3 класса частично экспертами, частично – с помощью краудсорсинга (Amazon Mechanical Turk).</p><p>Ниже представлены кривые обучения (как метрики на кросс-валидации зависят от размера выборки) для базовой модели, “золотого NLP-бейзлайна” – логистической регрессии с Tf-Idf-преобразованием текста (если вы ничего не поняли в этой фразе, советую посмотреть <a href="https://habr.com/ru/company/ods/blog/322626/"><u>открытый курс машинного обучения</u></a> тут на Хабре, в частности, <a href="https://habr.com/ru/company/ods/blog/323890/"><u>статью</u></a> про линейные модели классификации и регрессии). </p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/75b/8af/16b/75b8af16ba673af59f9096763755fc2b.png" alt="Кривые обучения с базовой моделью " title="Кривые обучения с базовой моделью " width="1600" height="1067" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/75b/8af/16b/75b8af16ba673af59f9096763755fc2b.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/75b/8af/16b/75b8af16ba673af59f9096763755fc2b.png 781w" loading="lazy" decode="async"/><figcaption>Кривые обучения с базовой моделью </figcaption></figure><p>Простая модель подбирается примерно к 74% верных ответов на кросс-валидации при балансе классов: 45% положительных новостей, 35% – негативных, 20 – нейтральных. Неплохо, хотя мы заметили, что простая модель не понимает даже простых отрицаний, например, и “<em>BTC will drop by 10% tomorrow</em>” и  “<em>BTC will </em><strong><em>not</em></strong><em> drop by 10% tomorrow</em>” считает негативными новостями. </p><p>Впослдествии мы провели немало экспериментов и остановились на BERT модели, у которой доля верных ответов на кросс-валидации – около 81.5%, что уже совсем неплохо, так как замеренный нами уровень согласованности разметки – от 80% до 90%, то есть BERT уже размечает новости не хуже среднего кожаного мешка.   </p><p>Модель мы тренируем с MLFlow, о котором чуть ниже, и разворачиваем с FastAPI. В <a href="https://github.com/crypto-sentiment/crypto_sentiment_model_fast_api"><u>этом репозитории</u></a> можно увидеть, как именно это делается.  </p><p>BERT мы задеплоили с ONNX-сериализацией, что позволяет делать эффективный инференс на CPU.</p><h3>Model scorer</h3><p>Этот сервис нужен для того, чтобы показывать тональность самых свежих новостей. Сервис по графику проверяет свежие новости в <em>базе</em> и, если они есть, забирает все новости без прогнозов, дергает<em> model API, </em>получает прогнозы и пишет новости в базу с флагом, что эти новости уже "проскорены". Тут в детали вдаваться не очень интересно.  </p><h3>MLFlow и сервис обучения моделей</h3><p>Мы реализовали абстрактный класс для обучения, у котого есть наследники для простой модели tf-idf &amp; logreg  и для BERT-модели. Если интересно, исходники <a href="https://github.com/crypto-sentiment/crypto_sentiment_demo_app/tree/main/crypto_sentiment_demo_app"><u>тут</u></a> в модулях models и train. </p><p>Для трекинга экспериментов и хранения артефактов моделей мы использовали MLFLow в <a href="https://www.mlflow.org/docs/latest/tracking.html#scenario-4-mlflow-with-remote-tracking-server-backend-and-artifact-stores"><u>4-ом сценарии</u></a>, когда S3 используется для хранения моделей (в нашем случае – <a href="https://min.io/"><u>Minio</u></a>), а база Postgres – для хранения метрик экспериментов. </p><p>Если хочется это повторить, отправим вас к <a href="https://www.youtube.com/watch?v=KZ5Cdevd-b8&amp;ab_channel=%D0%9F%D0%B0%D0%B2%D0%B5%D0%BB%D0%9A%D0%B8%D0%BA%D0%B8%D0%BD"><u>лекции курса</u></a> по MLOPs, где Павел Кикин как раз разворачивает описанные сервисы с docker-compose. </p><h3>Data Provider API</h3><p>Чтоб сервисы не ходили напрямую в базу, мы развернули перед ней Data Provider API – FastAPI c набором endpoints, по которым можно забрать разные данные и метрики из базы.</p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/810/06f/0d1/81006f0d11096300326e2519cbe83e8b.png" alt="Data Provider API" title="Data Provider API" width="1600" height="1265" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/810/06f/0d1/81006f0d11096300326e2519cbe83e8b.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/810/06f/0d1/81006f0d11096300326e2519cbe83e8b.png 781w" loading="lazy" decode="async"/><figcaption>Data Provider API</figcaption></figure><p>Например, можно взять среднюю предсказанную положительную тональность для всех новостей за последние 24 часа. Или значения той же метрики по дням за последнюю неделю. </p><h3>Фронтенд </h3><p>Фронтенд общается с Data Provider API, получает данные и отображает их. Например, барометр рисуется на основе запроса к endpoint Data Provider API <a href="http://ec2-54-76-18-79.eu-west-1.compute.amazonaws.com:8002/docs#/default/avg_positive_last_n_hours_positive_score_average_last_hours_get"><u>/positive_score/average_last_hours.</u></a></p><p>Также фронтенд умеет напрямую обращаться к API модели, чтоб отрисовать прогнозы для произвольного текста, введенного пользователем. </p><p>Про сам фронтенд в деталях не расскажу, ибо нуб в этом деле (фронтенд у нас разрабатывала Залина <a class="mention" href="/users/linkag">@LinkaG</a>). Но вкратце: это React на базе <a href="https://www.figma.com/"><u>Figma</u></a>-шаблона.</p><h3>LabelStudio &amp; active learning</h3><p>Мы также развернули <em>Label Studio</em> для ручной разметки данных. Идея в том, что мы можем в любой момент доразметить свежие новости. </p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/595/eb0/55f/595eb055f882fb1cc7391cc88b040fbf.png" alt="Интерфейс LabelStudio" title="Интерфейс LabelStudio" width="1600" height="577" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/595/eb0/55f/595eb055f882fb1cc7391cc88b040fbf.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/595/eb0/55f/595eb055f882fb1cc7391cc88b040fbf.png 781w" loading="lazy" decode="async"/><figcaption>Интерфейс LabelStudio</figcaption></figure><p><em>Label Studio </em>умеет забирать новости из <em>базы на </em>разметку<em>, </em>предлагает пользователям интерфейс для разметки данных и также умеет экспортировать размеченные данные в <em>базу.</em></p><p>Мы реализовали active learning – забираются не случайные новости, а те, для которых модель выдает <em>не очень уверенный прогноз</em>, т.е. такие новости более перспективны для разметки. Если не слышали этот термин, советую <a href="https://blog.fastforwardlabs.com/2019/04/02/a-guide-to-learning-with-limited-labeled-data.html"><u>этот блог пост</u></a> о том, что делать, когда размеченных данных мало и как отбирать данные на разметку эффективно. </p><p>Понятие <em>не очень уверенный прогноз </em>можно определить формально, например, через энтропию прогнозов модели (о применении энтропии в машинном обучении можно почитать, например, в <a href="https://habr.com/ru/company/ods/blog/322534/"><u>статье</u></a> открытого курса по машинному обучению, где речь идет о построении деревьев решений). Чем выше энтропия – тем менее модель уверена в прогнозе, в частности, для 3 классов (positive/neutral/negative) энтропия будет максимальна, когда модель выдает равные предсказанные вероятности: ⅓ для positive, ⅓ для neutral и ⅓ для negative. Очевидно, в таком случае модель не сумела “решить”, куда отнести новость. Наверное, поможет, если тут в дело вступится человек и сам разметит такую новость. Это в двух словах – идея active learning, в данном случае с энтропийным критерием. А критериев может быть много разных. Мы поисследовали несколько из них и остановились на энтропийном (также есть довольно масштабные <a href="https://arxiv.org/pdf/1611.08618.pdf"><u>бенчмарки</u></a>, подтверждающие такой выбор). </p><h3>Scheduler</h3><p>Наконец, у нас есть шедулер, запускающий по графику <em>краулер</em>, <em>model scorer</em> и <em>Label Studio, </em>так что каждые 6 часов качаются свежие новости, размечаются моделью, импортируются на разметку, а также раз в сутки размеченные новости экспортируются в <em>базу.</em></p><p>Довольно приятным открытием был шедулер <a href="https://github.com/mcuadros/ofelia"><u>Ofelia</u></a>, позволяющий в два счета запускать задачи в docker или  docker-compose по расписанию. </p><h2>Прикладные исследования</h2><p>Помимо собственно разработки всех микросервисов, описанных выше, мы довольно активно рисечили. Опишу только главные находки.</p><h4>Активное обучение</h4><p>Упомянутый active learning действительно позволяет быстрее достигать хорошего качества модели. <a href="https://github.com/crypto-sentiment/crypto_sentiment_notebooks/blob/main/notebooks/20220418_active_learning_survey.ipynb"><u>Тут</u></a> <a class="mention" href="/users/alexandrinvictor">@AlexandrinVictor</a>рассмотрел несколько методов применительно к нашей задаче, в том числе и такие нетривиальные как Monte Carlo Dropout (инференс модели делается несколько раз с разными значениями дропаута, получается ансамбль, неопределенность прогнозов считается по дисперсии прогнозов этого ансамбля). Можно посмотреть на это исследование и как на хороший пример организации эксперимента и вообще написания кода. </p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/944/b92/1db/944b921dbd2f4616d7a3a561bac0e9a4.png" alt="Кривые обучения в зависимости от критерия отбора примеров (активное обучение)" title="Кривые обучения в зависимости от критерия отбора примеров (активное обучение)" width="615" height="387" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/944/b92/1db/944b921dbd2f4616d7a3a561bac0e9a4.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/944/b92/1db/944b921dbd2f4616d7a3a561bac0e9a4.png 781w" loading="lazy" decode="async"/><figcaption>Кривые обучения в зависимости от критерия отбора примеров (активное обучение)</figcaption></figure><p>В целом на наших данных разные критерии active learning проявили себя примерно одинаково, и мы выбрали в итоге энтропийный. </p><h4>Checklist для тестирования модели</h4><p>“Beyond Accuracy: Behavioral Testing of NLP Models with CheckList” - лучшая <a href="https://aclanthology.org/2020.acl-main.442/"><u>статья</u></a> престижной конференции ACL 2019 года. Авторы зарелизили <a href="https://github.com/marcotcr/checklist"><u>фреймворк</u></a>, с помощью которого можно прописывать тесты для модели и изучать ее ошибки. </p><p>Например, можно сгенерировать отрицания наподобие “btc does not drop by 10%” или “btc won’t drop by 10%"  и количественно оценить, насколько хорошо модель с ними справляется. Кстати, так мы и пришли к выводу, что BERT нормально поддерживет отрицания. </p><p>Другой пример: с помощью NER (Named Entity Recognition) фреймворк поможет на основе новости “china's central bank to continue bitcoin exchange inspections” наплодить много похожих, но упоминающих другие криптовалюты ( "china's central bank to continue ethereum exchange inspections", "china's central bank to continue ripple exchange inspections" и т.д.). После этого можно провести invariance test: проверить, будет ли для модифицированных новостей прогноз таким же, как для исходной новости. </p><p>Это исследование также провел <a class="mention" href="/users/alexandrinvictor">@AlexandrinVictor</a>, код <a href="https://github.com/crypto-sentiment/crypto_sentiment_notebooks/blob/main/notebooks/20220430_btc_4500_titles_and_assessment_data_checklist.ipynb"><u>тут</u></a>.</p><h4>Adversarial Validation для обнаружения дрифта в данных </h4><p>Adversarial validation – подход, про который я узнал на Kaggle, который, кажется, под разными именами постоянно переизобретается и в академии, и в индустрии. Идея очень проста: </p><ul><li><p>Возьмем наши данные – обучающую и тестовую выборку.</p></li><li><p>Оставим признаки, а целевой признак (например, тональность) просто выкинем.</p></li><li><p>Вместо целевого признака сделаем простой бинарный – 1-ми пометим тестовую выборку, а 0-ми – обучающую.</p></li><li><p>Проводим кросс-валидацию, если ROC AUC близок к 100%, значит, модель легко отличает тестовую выборку от обучающей, есть дрифт. Если ROC AUC близок к 50%, значит, модель не отличает выборки и дрифт не обнаружила. </p></li></ul><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/6f3/a44/eb7/6f3a44eb729e26a192c36d9706b69187.png" alt="Модель успешно отличает новые данные от старых" title="Модель успешно отличает новые данные от старых" width="772" height="532" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/6f3/a44/eb7/6f3a44eb729e26a192c36d9706b69187.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/6f3/a44/eb7/6f3a44eb729e26a192c36d9706b69187.png 781w" loading="lazy" decode="async"/><figcaption>Модель успешно отличает новые данные от старых</figcaption></figure><p>В нашем случае обучающая выборка пришла из 2017-2018, а тестовая – из 2022, то что мы сами недавно разметили. И конечно, “распределения съехали”, с 2017-го новости сильно поменялись. Что и было заметно при adversarial validation – даже простая модель легко отличила новые данные от старых. </p><p>В качестве бонуса, можно посмотреть на коэффициенты модели и вытащить слова/биграммы наиболее характерные для обучающей или тестовой выборки. Выглядит скорее как развлечение, чем полезный инсайт, но в 2022-м в новостях стали чаще появляться NFT, metaverse, web3 (очевидно), а также oil и cannabis (менее очевидно). </p><p>Код, сопровождающий описанный эксперимент – <a href="https://github.com/crypto-sentiment/crypto_sentiment_notebooks/blob/main/notebooks/20220530_adversarial_validation_for_data_drift_train_vs_recent_rss_feeds.ipynb"><u>тут</u></a>. </p><h4>Аугментации данных</h4><p>Аугментации данных<strong> </strong>отлично работают в задачах компьютерного зрения (см, например, библиотеку <a href="https://albumentations.ai/"><u>albumentations</u></a>), а вот в NLP с ними как-то все не так однозначно. Есть примеры из Kaggle-соревнований, например, из <a href="https://www.kaggle.com/competitions/jigsaw-toxic-comment-classification-challenge/discussion/48038#272289"><u>этого поста</u></a> я узнал про backtranslation и как это помогло Павлу Остякову затащить соревнование по предсказанию токсичности комментариев, в котром я тоже участвовал. Суть backtranslation в том, что мы расширяем обучающую выборку за счет перевода примеров из исходного языка в какой-то другой, а затем обратно. Например, из английского в немецкий, а потом промежуточный результат на немецком переводим обратно в английский. </p><p>Правда, на практике заходит это как-то хуже, что я слышу и от коллег. Да и <a href="https://aclanthology.org/2022.insights-1.12.pdf"><u>вот свежая статья</u></a> с ACL 2022 “On the Impact of Data Augmentation on Downstream Performance in Natural Language Processing”, в которой провели немало экспериментов с разными NLP-задачами и техниками аугментации и пришли к выводу, что ни одна из них не помогает стабильно. </p><p>Вот и нам не удалось завести аугментации. Возможно, из-за того что новости – короткие, и аугментированные новости получаются слишком похожими на исходные.</p><h2>Организация работы</h2><p>После того, как мы рассказали в целом о том, что получилось на выходе, хочется обсудить и организацию работы в команде, а также про челленджи. В целом мы получили отличный опыт, и хочется им поделиться, а заодно порефлексировать о том, что можно было сделать лучше. Основная цель – помочь тем, кто хочет поучаствовть в команде, поработать над классным проектом (не обязательно ML), но не знает, как это делать лучше. </p><h3>Роли в команде</h3><p>Кажется, что даже в пет-проджекте хорошо бы выделить роли и не толкаться, не бороться за задачи. Еще наблюдение (подкрепленное также опытом командной работы в Kaggle -соревнованиях): оптимальный размер команды – от 3 до 5 человек. Точно не больше 5. Исходя из этого, я выделил следующие роли:</p><ul><li><p>Один ML-инженер. Тут более-менее понятно – делать все то, что изучали в <a href="https://ods.ai/tracks/ml-in-production-spring-22">курсе</a> и с чем мы сталкиваемся на практике в рабочих проектах: собирать Docker-контейнеры, настраивать кубер, если надо, CI/CD, деплоить модели, поддерживать model life cycle;</p></li><li><p>Два Data Scientist-a/аналитика/ML-исследователя. Это уже атаковать исследовательские задачи, перед тем как позвать народ, я создал список интересных (мне) задач, позже мы набросали еще (можно использовать сервисы типа <a href="https://easyretro.io/">https://easyretro.io/</a> для брейнсторминга). Выше уже были примеры с active learning и исследованием ошибок модели, но бэклог исследовательских и инженерных идей у нас накопился немалый, мозговой штурм тут хорошо помог;</p></li><li><p>Один Data Engineer. Тут из задач было сделать краулер новостей, настроить базу для их хранения и т.д.;</p></li><li><p>Тимлид (это я оставил за собой). Это координация задач, помощь с затыками, организация процесса работы - двигание тикетов, подбадривание, шутки. Истории из прошлых релевантных проектов. Предполагается, что тимлид еще не разучился писать код и мержить ветки. </p></li></ul><p>Роли не жестко прописаны. Как в стартапе, так и в пет-проджекте, можно брать на себя много всего. В частности, если хочется немного залезть во фронтенд, можно залезть и сделать красивый лендинг.</p><h3>Цели</h3><p>При работе над бодрым пет-проджектом хочется сохранить некоторый баланс - не тащить прям все процессы "с галеры", то есть то, что мы практикуем в ежедневной работе – OKR (Objectives &amp; Key Results), стендапы, ретро и прочие Agile-ритуалы. Но все же хочется хорошо понимать, что мы командой хотим достичь за ближайшие ~2 месяца. Поэтому я сформулировал цели, которые мы хотим достичь, в формате OKR (про фреймворк Objectives &amp; Key Results <a href="https://www.atlassian.com/team-playbook/plays/okrs">неплохо пишет</a> Atlassian). Выглядело это так:</p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/998/5d7/927/9985d792727fc72288b6c05a0f8b0269.png" alt="Первая цель – базовое решение" title="Первая цель – базовое решение" width="1456" height="1498" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/998/5d7/927/9985d792727fc72288b6c05a0f8b0269.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/998/5d7/927/9985d792727fc72288b6c05a0f8b0269.png 781w" loading="lazy" decode="async"/><figcaption>Первая цель – базовое решение</figcaption></figure><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/3fd/2bc/cab/3fd2bccabd48cf881730cc98f16bab7d.png" alt="Вторая цель – продвинутое решение" title="Вторая цель – продвинутое решение" width="1450" height="1544" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/3fd/2bc/cab/3fd2bccabd48cf881730cc98f16bab7d.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/3fd/2bc/cab/3fd2bccabd48cf881730cc98f16bab7d.png 781w" loading="lazy" decode="async"/><figcaption>Вторая цель – продвинутое решение</figcaption></figure><p>Мы использовали <a href="https://www.notion.so/">Notion</a>, в котором можно найти много классных шаблонов – и для OKR, для домашней страницы проекта, доски Kanban и почти чего угодно.</p><h4>Scrum и спринты</h4><p>Мы работали спринтами по 3 недели и встречались 1-2 раза в неделю на полчаса-час. В нашем небольшом проекте было всего 2 спринта по 3 недели, которые неплохо соотносились с представленными выше OKR – один спринт на MVP-решение, один – на продвинутое. </p><p>Прогресс трекали с помощью доски Kanban в том же Notion</p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/093/1af/f20/0931aff202e6f0af8db5e69376765748.png" alt="Доска Kanban" title="Доска Kanban" width="1600" height="815" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/093/1af/f20/0931aff202e6f0af8db5e69376765748.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/093/1af/f20/0931aff202e6f0af8db5e69376765748.png 781w" loading="lazy" decode="async"/><figcaption>Доска Kanban</figcaption></figure><p>Пользоваться Notion понравилось, даже в бесплатной версии не уперлись ни в какие ограничения. Впрочем, мы использовали минимальный функционал. </p><h3>MVP и основные сложности </h3><p>Я подробно описал решение, полученное на выходе. Но хочется также описать, как мы к этому шли и какие сложности были по дороге. Мы начали с того, что тимлид (я) набросал первую архитектуру решения, выделил основные компоненты и раскидал задачи, т.е реализацию компонентов, по людям ("ты пиши краулер, а ты – сделай плз model inference API"). Выглядела первая схема так:</p><figure class="full-width "><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/b9b/19d/de1/b9b19dde1b507e5f0076ae917d827f7e.png" alt="Первая версия архитектуры приложения" title="Первая версия архитектуры приложения" width="1907" height="1573" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/b9b/19d/de1/b9b19dde1b507e5f0076ae917d827f7e.png 780w,&#10;       https://habrastorage.org/r/w1560/getpro/habr/upload_files/b9b/19d/de1/b9b19dde1b507e5f0076ae917d827f7e.png 781w" loading="lazy" decode="async"/><figcaption>Первая версия архитектуры приложения</figcaption></figure><p>Идея такая:</p><ul><li><p><em>краулер</em> по графику ходит в веб, забирает свежие новости и кладет их в <em>базу;</em></p></li><li><p>есть обученная модель и <em>model API, </em>к которому можно обратиться с любым текстом и получить в ответ предсказанные значения для положительной, нейтральной и негативной тональности;</p></li><li><p>сервис <em>model scorer </em>проверяет<em> </em>свежие новости в <em>базе</em>, если есть, то забирает все новости без прогнозов, дергает<em> model API, </em>получает прогнозы и пишет новости в базу   с флагом, что эти новости уже "проскорены";</p></li><li><p><em>фронтенд</em> общается с <em>базой, </em>забирая какую-то метрику (например, средняя за день предсказанная величина положительной тональности) и рисует ее. Также <em>фронтенд </em>может напрямую общаться с <em>model API, </em>чтоб выдавать прогноз для текста, введенного пользователем.</p></li></ul><p>Казалось все складно, но когда каждый начал реализовывать свой компонент решения, дело немного тормознулось, потому что компоненты-то взаимодействуют между собой. Условно, Паша допилил краулер и уже готов писать новости в базу, но Лена еще не подняла базу. Юля пишет model scorer, но ждет пока Гена поднимет API с моделькой. </p><p>В итоге тимлид засучил рукава и запилил первый MVP с мок-версими каждого из компонентов (условно, краулер тащит 50 новостей с <a href="https://bitcointicker.co/news/">https://bitcointicker.co/news</a>, а не делает что-то более умное, не фильтрует новости, хотя надо бы. Моделька – tf-idf &amp; logreg, а не BERT, фронтенд – простая streamlit-демка и т.д.), но с прописанным взаимодействием компонентов. После того как прототип был готов, уже понеслось, понятно было, как совершенствовать каждый из сервисов. </p><p>Но получилось, что на какие-то 8-10 дней тимлид был боттлнеком и команда по сути его ждала. Буду рад в коментах обсудить более эффективные варианты старта проекта. </p><h2>Выводы</h2><p>Несмотря на описанные сложности, хочется закончить на позитивной ноте и поделиться тем, к чему мы пришли (можно рассматривать как советы начинающим DS-ам или разработчикам):</p><ul><li><p>Поработать в команде над интересным проектом – очень крутой опыт, он и сам по себе полезен, и “продавать” его тоже можно на собеседованиях.</p></li><li><p>Очень важно иметь дедлайн, скажем, конец соревнования на Kaggle или окончание курса.</p></li><li><p>Оптимальный размер команды – от 3 до 5 человек. Недаром и на Kaggle к этому пришли.</p></li><li><p>Хорошо бы довести пет-проект до красивой демки, на которую можно и в резюме сослаться и в любой ситуации хоть в лифте показать.</p></li><li><p>Немного “галеры” привнести в душевный пет-проект не помешает: если обозначить цели (можно в формате OKR) и настроить базовые Scrum-ритуалы, будет более четкое понимание, кто что делает и куда команда движется.</p></li><li><p>Здорово в начале сотрудничества побрейнстормить: собраться и накидать идей, обсудить и приоретизировать (сервисы типа <a href="https://easyretro.io/"><u>https://easyretro.io/</u></a> хорошо для этого подходят).</p></li><li><p>Очень помогает делать мини-демки внутри команды. Даже если встречаться всего на час в неделю, имеет смысл начать с 20-минутной демки кого-то из участников (например, продемонстрировать продвижения с фронтендом или сервисом LabelStudio), а потом уже обычный стендап с обсуждением текущих задач.</p></li></ul><p>И тут же перечислю участников проекта:</p><ul><li><p>Юрий Кашницкий <a class="mention" href="/users/yorko">@yorko</a> – тимлид, техлид, везде по чуть-чуть.</p></li><li><p>Виктор Александрин <a class="mention" href="/users/AlexandrinVictor">@AlexandrinVictor</a> (<a href="https://www.linkedin.com/in/victor-alexandrin-073699150/"><u>LinkedIn</u></a>, <a href="https://github.com/aleksandrinvictor"><u>GitHub</u></a>) – очень продуктивный и MLE, и исследователь.</p></li><li><p>Залина Русинова <a class="mention" href="/users/LinkaG">@LinkaG</a> – фронтенд-разработчик, исследователь.</p></li><li><p>Арсений Глотов <a class="mention" href="/users/senyasenyasenya">@senyasenyasenya</a> (<a href="https://www.linkedin.com/in/arseniy-glotov/"><u>LinkedIn</u></a>) – MLE, Data Engineer.</p></li></ul><p>Это была одна из лучших команд, с которыми приходилось работать. От чистого сердца рекомендую хантить ребят (HR alert)!</p><h2>Благодарности</h2><p>Мы благодарим команду <a href="https://ods.ai/tracks/ml-in-production-spring-22"><u>курса</u></a> ODS по MLOps во главе с Павлом Кикиным за прекрасный курс, а также Никиту Захарова и Екатерину Крючкову за участие в первой фазе проекта и помощь с некоторыми идеями. Наконец, большое спасибо командам <a href="https://www.hostkey.ru/"><u>Hostkey</u></a> (<a class="mention" href="/users/dasafyev">@dasafyev</a><a class="mention" href="/users/rimecode">@rimecode</a>) и <a href="https://dstack.ai/"><u>dstack.ai</u></a> (Андрею Чепцову <a class="mention" href="/users/andreycheptsov">@andreycheptsov</a>) за щедро предоставленные вычислительные ресурсы.  </p><p></p></div></div></div><!----><!----></div><!----><!----></div><!--]--><!----><div class="tm-article-presenter__meta" data-test-id="article-meta-links"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span><ul class="tm-separated-list__list"><!--[--><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[bitcoin]" class="tm-tags-list__link"><span>bitcoin</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[machine+learning]" class="tm-tags-list__link"><span>machine learning</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[docker-compose]" class="tm-tags-list__link"><span>docker-compose</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[docker]" class="tm-tags-list__link"><span>docker</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[api]" class="tm-tags-list__link"><span>api</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[pet-project]" class="tm-tags-list__link"><span>pet-project</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[mlops]" class="tm-tags-list__link"><span>mlops</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[scrum]" class="tm-tags-list__link"><span>scrum</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[okr]" class="tm-tags-list__link"><span>okr</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[teamwork]" class="tm-tags-list__link"><span>teamwork</span></a><!--]--></li><!--]--><!----></ul></div><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span><ul class="tm-separated-list__list"><!--[--><li class="tm-separated-list__item"><!--[--><a href="/ru/companies/ods/articles/" class="tm-hubs-list__link"><!--[--><span>Блог компании Open Data Science</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/hubs/open_source/" class="tm-hubs-list__link"><!--[--><span>Open source</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/hubs/data_mining/" class="tm-hubs-list__link"><!--[--><span>Data Mining</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/hubs/machine_learning/" class="tm-hubs-list__link"><!--[--><span>Машинное обучение</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a href="/ru/hubs/pm/" class="tm-hubs-list__link"><!--[--><span>Управление проектами</span><!--]--></a><!--]--></li><!--]--><!----></ul></div></div><div class="article-donation-block"><div class="article-donation-block__message">Если эта публикация вас вдохновила и вы хотите поддержать автора — не&nbsp;стесняйтесь нажать на кнопку</div><button class="btn btn_solid btn_small tm-button tm-button_color-horizon article-donation-block__button" type="button"><!--[--><!--[-->Задонатить<!--]--><!--]--></button><!----></div><!--]--></article><!--]--></div><!----></div><div style="" class="tm-article-sticky-panel" data-test-id="article-sticky-panel"><div class="tm-data-icons tm-data-icons tm-data-icons_space-big tm-article-sticky-panel__icons" data-test-id="article-stats-icons"><div class="article-rating tm-data-icons__item" data-v-86aec4a7><div class="tm-votes-meter votes-switcher" data-v-86aec4a7><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-article" height="24" width="24"><title>Всего голосов 21: ↑20 и ↓1</title><use xlink:href="/img/megazord-v28.7909a852..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 21: ↑20 и ↓1">+22</span></div><!--teleport start--><!--teleport end--><!----></div><!----><!----><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.7909a852..svg#counter-favorite"></use></svg></span><span class="bookmarks-button__counter" title="Количество пользователей, добавивших публикацию в закладки">55</span></button><div class="tm-sharing tm-data-icons__item" title="Поделиться"><button class="tm-sharing__button" type="button"><svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="tm-sharing__icon"><path fill="currentColor" d="M13.8 13.8V18l7.2-6.6L13.8 5v3.9C5 8.9 3 18.6 3 18.6c2.5-4.4 6-4.8 10.8-4.8z"></path></svg></button><!--teleport start--><!--teleport end--></div><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a href="/ru/companies/ods/articles/673376/comments/" class="tm-article-comments-counter-link__link" data-test-id="counter-comments"><!--[--><svg class="tm-svg-img tm-article-comments-counter-link__icon" height="24" width="24"><title>Комментарии</title><use xlink:href="/img/megazord-v28.7909a852..svg#counter-comments"></use></svg><span class="tm-article-comments-counter-link__value">9</span><!--]--></a><!----></div><!--[--><!--[--><!--[--><!----><!--]--><!--]--><!--]--><!--teleport start--><!--teleport end--><!----></div></div></div><!--[--><!--]--><div class="tm-article-presenter__footer"><!--[--><!--[--><div class="tm-article-blocks"><!----><!--[--><section class="tm-block tm-block tm-block_spacing-bottom"><!----><!--[--><div class="tm-block__body tm-block__body tm-block__body_variant-balanced"><!--[--><div class="tm-article-author" data-test-id="article-author-info" data-async-called="true"><!--[--><!--[--><div class="tm-article-author__company"><div class="tm-article-author__company-card"><div class="tm-company-snippet"><a href="/ru/companies/ods/profile/" class="tm-company-snippet__logo-link"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="40" src="//habrastorage.org/getpro/habr/company/5d0/e1e/b70/5d0e1eb7036b66d4ff4a35ad6950cc3e.png" width="40"></div></a><div class="tm-company-snippet__info"><a href="/ru/companies/ods/profile/" class="tm-company-snippet__title" data-test-id="company-title"><span>Open Data Science</span></a><div class="tm-company-snippet__description">Крупнейшее русскоязычное Data Science сообщество</div></div></div><div class="tm-article-author__buttons"><!----><!----></div></div><div class="tm-article-author__company-contacts"><!--[--><a class="tm-article-author__contact" href="http://ods.ai/" rel="noopener" target="_blank">Сайт</a><!--]--></div><div class="tm-article-author__separator"></div></div><!--]--><!--]--><div class="tm-user-card tm-user-card tm-user-card_variant-article tm-article-author__user-card" data-async-called="true"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/yorko/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" src="//habrastorage.org/getpro/habr/avatars/35c/103/5f8/35c1035f81d5a6fc6c376a67289a2a36.jpg"></div></a><div class="tm-user-card__meta"><div class="tm-counter-container karma" title=" 175 голосов " data-v-f7c0e283><div class="tm-counter-container__header"><!--[--><div class="karma-display positive" data-v-f7c0e283 data-v-7635202e>147</div><!----><!--]--></div><div class="tm-counter-container__footer"><!--[--><div class="karma-text" data-v-f7c0e283>Карма</div><!--teleport start--><!--teleport end--><!--]--></div></div><div class="tm-counter-container" title="Рейтинг пользователя"><div class="tm-counter-container__header"><!--[--><!--[--><!--]--><div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!----><div class="tm-votes-lever__score tm-votes-lever__score_appearance-rating tm-votes-lever__score"><!--[--><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_rating tm-votes-lever__score-counter" data-test-id="votes-score-counter">0</span></span><!--]--></div><!----></div><!--]--></div><div class="tm-counter-container__footer"><!--[--><span class="tm-rating__text tm-rating__text">Рейтинг</span><!--]--></div></div></div></div></div><div class="tm-user-card__info tm-user-card__info_variant-article tm-user-card__info"><div class="tm-user-card__title tm-user-card__title_variant-article tm-user-card__title"><span class="tm-user-card__name tm-user-card__name_variant-article tm-user-card__name">Yury Kashnitsky</span><a href="/ru/users/yorko/" class="tm-user-card__nickname tm-user-card__nickname tm-user-card__nickname_variant-article"> @yorko</a><!----></div><p class="tm-user-card__short-info tm-user-card__short-info_variant-article tm-user-card__short-info" data-test-id="user-card-speciality">Staff GenAI Field Solution Architect, Google Cloud</p></div></div><!----><div class="tm-user-card__buttons tm-user-card__buttons_variant-article tm-user-card__buttons"><!----><div class="tm-user-card__button"><div class="tm-button-follow tm-user-card__button-follow"><!----><button class="tm-button-follow__button tm-button-follow__button_big" data-test-id="follow-button" type="button">Подписаться</button></div></div><!----><div class="tm-user-card__button tm-user-card__button_write" data-test-id="user-card-conversations"><svg class="tm-svg-img tm-user-card__button-icon" height="16" width="16"><title>Отправить сообщение</title><use xlink:href="/img/megazord-v28.7909a852..svg#mail"></use></svg></div><!----></div><!----></div><div class="tm-article-author__user-contacts" data-test-id="author-contacts"><!----><!----><!----></div></div><!--]--></div><!--]--><!----></section><!----><!--[--><div class="banner-wrapper leaderboard tm-company-article__banner" style="--38f3d936:200px;--78a3cd06:auto;" data-v-f4bf0d24><!--[--><div class="placeholder-wrapper placeholder" data-v-f4bf0d24><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><div class="adfox-banner-placeholder leaderboard" data-v-12f7bcca><div class="image loads" data-v-12f7bcca></div><div class="lines" data-v-12f7bcca><div class="line loads" data-v-12f7bcca></div><div class="line loads" data-v-12f7bcca></div><div class="line loads" data-v-12f7bcca></div></div></div><!----><!----><!----></div><div id="adfox_164725660339535756" class="tm-adfox-banner" data-v-f4bf0d24></div><!--]--></div><!----><!--]--><!--]--><div class="tm-article-blocks__comments"><div id="publication-comments" class="tm-article-page-comments"><div><!--[--><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/companies/ods/articles/673376/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style" data-test-id="counter-comments"><!--[--><svg class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted" height="24" width="24"><title>Комментарии</title><use xlink:href="/img/megazord-v28.7909a852..svg#counter-comments"></use></svg><span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted"> Комментарии 9 </span><!--]--></a><!----></div><!--]--></div></div></div><!--[--><!--[--><!--]--><section class="tm-block tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header tm-block__header_variant-borderless"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title tm-block__title_variant-large">Публикации</h2><!--[--><!--]--></div><!----></header><!--[--><div class="tm-block__body tm-block__body tm-block__body_variant-condensed-slim"><!--[--><!--[--><div class="tm-tabs tm-tabs"><div class=""><!--[--><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link_active tm-tabs__tab-link_slim tm-tabs__tab-link">Лучшие за сутки</button></span><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link_slim tm-tabs__tab-link">Похожие</button></span><!--]--></div><!----></div><div class="similar-and-daily__tab-view"><div class="placeholder-wrapper"><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><div class="tm-placeholder-article-cards"><!--[--><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><!--]--></div><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></div><!----></div><!--]--><!--]--></div><!--]--><!----></section><!--[--><!--[--><div><div class="placeholder-wrapper"><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><div class="tm-placeholder-promo"><div class="tm-placeholder-promo__header"><div class="tm-placeholder__line tm-placeholder__line_promo-title"></div></div><div class="tm-placeholder-promo__body"><div class="tm-placeholder-promo__posts"><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div></div><div class="tm-placeholder-promo__dots"><div class="tm-placeholder-promo__dot"></div><div class="tm-placeholder-promo__dot"></div><div class="tm-placeholder-promo__dot"></div></div></div></div><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></div></div><div class="placeholder-wrapper"><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><div class="tm-placeholder-inset tm-placeholder-courses"><div class="tm-placeholder-inset__header"><div class="tm-placeholder__line tm-placeholder__line_inset-header loads"></div></div><div class="tm-placeholder-inset__body"><ul class="tm-placeholder-list"><!--[--><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__company-avatar"></div><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__company-avatar"></div><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__company-avatar"></div><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__company-avatar"></div><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__company-avatar"></div><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><!--]--></ul></div><div class="tm-placeholder-inset__footer"><div class="tm-placeholder__line tm-placeholder__line_inset-footer loads"></div></div></div><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></div><!--]--><!--]--><!----><!--[--><!--]--><!--]--></div><!--]--><!--]--></div></div><!--]--><!--]--></div></div><div class="tm-page__sidebar"><!--[--><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__placeholder_initial"></div><div class="tm-sexy-sidebar_initial tm-sexy-sidebar" style="margin-top:0px;"><!--[--><!--]--><!----><div class="tm-layout-sidebar__ads_initial tm-layout-sidebar__ads"><div class="banner-wrapper half-page tm-layout-sidebar__banner tm-layout-sidebar__banner_top" style="--38f3d936:600px;--78a3cd06:auto;" data-v-f4bf0d24><!--[--><div class="placeholder-wrapper placeholder" data-v-f4bf0d24><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><div class="adfox-banner-placeholder half-page" data-v-12f7bcca><div class="image loads" data-v-12f7bcca></div><div class="lines" data-v-12f7bcca><div class="line loads" data-v-12f7bcca></div><div class="line loads" data-v-12f7bcca></div><div class="line loads" data-v-12f7bcca></div></div></div><!----><!----><!----></div><div id="adfox_164725680533065327" class="tm-adfox-banner" data-v-f4bf0d24></div><!--]--></div></div><!--[--><section class="tm-block tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title">Информация</h2><!--[--><!--]--></div><!----></header><!--[--><div class="tm-block__body tm-block__body"><!--[--><div class="tm-company-basic-info"><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Сайт</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[--><a class="tm-company-basic-info__link" href="http://ods.ai/" target="_blank">ods.ai</a><!--]--></dd></dl><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Дата регистрации</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[--><time datetime="2017-02-16T19:05:46.000Z" title="2017-02-16, 22:05">16  февраля  2017</time><!--]--></dd></dl><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Дата основания</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[--><time datetime="2015-03-11T21:00:00.000Z" title="2015-03-12, 00:00">12  марта  2015</time><!--]--></dd></dl><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Численность</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[-->5 001–10 000 человек<!--]--></dd></dl><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Местоположение</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[-->Россия<!--]--></dd></dl><!----></div><!--]--></div><!--]--><!----></section><div class="tm-company-widgets"><!--[--><!--]--></div><!----><div></div><!--]--><div class="banner-wrapper medium-rectangle tm-layout-sidebar__banner tm-layout-sidebar__banner_bottom" style="--38f3d936:250px;--78a3cd06:auto;" data-v-f4bf0d24><!--[--><div class="placeholder-wrapper placeholder" data-v-f4bf0d24><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><div class="adfox-banner-placeholder medium-rectangle" data-v-12f7bcca><div class="image loads" data-v-12f7bcca></div><div class="lines" data-v-12f7bcca><div class="line loads" data-v-12f7bcca></div><div class="line loads" data-v-12f7bcca></div><div class="line loads" data-v-12f7bcca></div></div></div><!----><!----><!----></div><div id="adfox_164725691003361602" class="tm-adfox-banner" data-v-f4bf0d24></div><!--]--></div></div></div><!--]--></div></div><!----><!--]--></div></div></main><!----></div><div class="tm-footer-menu"><div class="tm-page-width"><!--[--><div class="tm-footer-menu__container"><!--[--><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Ваш аккаунт</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/companies/ods/articles/673376/&amp;hl=ru" rel="nofollow" target="_self">Войти</a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/companies/ods/articles/673376/&amp;hl=ru" rel="nofollow" target="_self">Регистрация</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Разделы</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="/ru/articles/" class="footer-menu__item-link">Статьи</a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">Новости</a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">Хабы</a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">Компании</a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">Авторы</a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">Песочница</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Информация</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">Устройство сайта</a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">Для авторов</a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">Для компаний</a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">Документы</a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement/?hl=ru_RU" target="_blank">Соглашение</a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/?hl=ru_RU" target="_blank">Конфиденциальность</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Услуги</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/corporate-blogs/" target="_blank">Корпоративный блог</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/advertising/" target="_blank">Медийная реклама</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/native-special/" target="_blank">Нативные проекты</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/education-programs/" target="_blank">Образовательные программы</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/hello-startup/" target="_blank">Стартапам</a></li><!--]--></ul></div></div><!--]--></div><!--]--></div></div><div class="tm-footer"><div class="tm-page-width"><!--[--><div class="tm-footer__container"><!----><div class="tm-footer__social"><!--[--><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Facebook</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Twitter</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>VK</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-vk"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Telegram</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Youtube</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://dzen.ru/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Яндекс Дзен</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-dzen"></use></svg></a><!--]--></div><!--teleport start--><!--teleport end--><button class="tm-footer__link"><!----> Настройка языка</button><a href="/ru/feedback/" class="tm-footer__link">Техническая поддержка</a><div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2025, </span><span class="tm-copyright__name"><a class="tm-copyright__link" href="https://company.habr.com/" rel="noopener" target="_blank">Habr</a></span></span></div></div><!--]--></div></div><!----><!--]--></div><!----></div><script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"673376":{"id":"673376","timePublished":"2022-06-30T13:01:16+00:00","isCorporative":true,"lang":"ru","titleHtml":"Эй-Яй, крипта, MLOps и командный пет-проджект","leadData":{"textHtml":"\u003Cp\u003EВ этой статье я расскажу, как мы командой пилили пет-проджект в рамках&nbsp;\u003Ca href=\"https:\u002F\u002Fods.ai\u002Ftracks\u002Fml-in-production-spring-22\"\u003E\u003Cu\u003Eкурса\u003C\u002Fu\u003E\u003C\u002Fa\u003E&nbsp;ODS по MLOps. Покажу не только финальный результат, но и немного расскажу про процесс работы, какие были сложности, как организовывали эффективную работу в команде.&nbsp;Может оказаться полезным для тех, кто хочет окунуться в Machine Learning и сделать свой пет-проджект, но пока чего-то не хватало. Также будет полезно тем, кто уже работает в области Data Science, но пока не окунулся в атмосферу DS, нет крутых коллег и разгвооров про фреймворки у кофемашины, а опыт командной работы именно в области DS получить хочется. \u003C\u002Fp\u003E\u003Cp\u003EСразу про то, что получилось на выходе:&nbsp;\u003Ca href=\"https:\u002F\u002Fcryptobarometer.org\u002F\"\u003E\u003Cu\u003Ehttps:\u002F\u002Fcryptobarometer.org\u002F\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E","imageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff61\u002Fec1\u002F0cd\u002Ff61ec10cdec6c32ebca0f4d3b0dc9f5e.png","buttonTextHtml":"Читать далее","image":{"url":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff61\u002Fec1\u002F0cd\u002Ff61ec10cdec6c32ebca0f4d3b0dc9f5e.png","fit":"cover","positionY":0,"positionX":0}},"editorVersion":"2.0","postType":"article","postLabels":[],"author":{"id":"212344","alias":"yorko","fullname":"Yury Kashnitsky","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F35c\u002F103\u002F5f8\u002F35c1035f81d5a6fc6c376a67289a2a36.jpg","speciality":"Staff GenAI Field Solution Architect, Google Cloud","scoreStats":{"score":147,"votesCount":175},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":"festline","paymentWebmoney":null},"donationsMethod":"wallets","isInBlacklist":null,"careerProfile":null},"statistics":{"commentsCount":9,"favoritesCount":55,"readingCount":10451,"score":22,"votesCount":21,"votesCountPlus":20,"votesCountMinus":1},"hubs":[{"id":"20962","alias":"ods","type":"corporative","title":"Блог компании Open Data Science","titleHtml":"Блог компании Open Data Science","isProfiled":false,"relatedData":null},{"id":"144","alias":"open_source","type":"collective","title":"Open source","titleHtml":"Open source","isProfiled":true,"relatedData":null},{"id":"7152","alias":"data_mining","type":"collective","title":"Data Mining","titleHtml":"Data Mining","isProfiled":true,"relatedData":null},{"id":"19439","alias":"machine_learning","type":"collective","title":"Машинное обучение","titleHtml":"Машинное обучение","isProfiled":true,"relatedData":null},{"id":"20682","alias":"pm","type":"collective","title":"Управление проектами","titleHtml":"Управление проектами","isProfiled":true,"relatedData":null}],"flows":[{"id":"1","alias":"develop","title":"Разработка","titleHtml":"Разработка"},{"id":"3","alias":"management","title":"Менеджмент","titleHtml":"Менеджмент"}],"relatedData":{"vote":null,"unreadCommentsCount":0,"bookmarked":false,"canComment":false,"canEdit":false,"canViewVotes":false,"votePlus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true,"isPublicationLimitEnough":false},"voteMinus":{"canVote":false,"isChargeEnough":false,"isKarmaEnough":false,"isVotingOver":true,"isPublicationLimitEnough":false},"canModerateComments":false,"trackerSubscribed":false,"emailSubscribed":false},"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cp\u003EПривет! Усаживайтесь поудобней, в этой статье я расскажу, как мы командой пилили пет-проджект в рамках \u003Ca href=\"https:\u002F\u002Fods.ai\u002Ftracks\u002Fml-in-production-spring-22\"\u003E\u003Cu\u003Eкурса\u003C\u002Fu\u003E\u003C\u002Fa\u003E ODS по MLOps. Покажу не только финальный результат, но и немного расскажу про процесс работы, какие были сложности, как организовывали эффективную работу в команде. Может оказаться полезным для тех, кто хочет окунуться в Machine Learning и сделать свой пет-проджект, но пока чего-то не хватало. Также будет полезно тем, кто уже работает в области Data Science, но пока не окунулся в атмосферу DS, нет крутых коллег и разговоров про фреймворки у кофемашины, а опыт командной работы именно в области DS получить хочется. Наконец, даже если Machine Learning не актуален, полезно будет почитать про организацию работы в рамках пет-проджекта, про хаки, к которым мы пришли. \u003C\u002Fp\u003E\u003Cp\u003EСразу про то, что получилось на выходе: \u003Ca href=\"https:\u002F\u002Fcryptobarometer.org\u002F\"\u003E\u003Cu\u003Ehttps:\u002F\u002Fcryptobarometer.org\u002F\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff61\u002Fec1\u002F0cd\u002Ff61ec10cdec6c32ebca0f4d3b0dc9f5e.png\" alt=\"Yet another барометр тональности криптоновостей\" title=\"Yet another барометр тональности криптоновостей\" width=\"2578\" height=\"1444\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff61\u002Fec1\u002F0cd\u002Ff61ec10cdec6c32ebca0f4d3b0dc9f5e.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff61\u002Fec1\u002F0cd\u002Ff61ec10cdec6c32ebca0f4d3b0dc9f5e.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EYet another барометр тональности криптоновостей\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EПервая часть статьи – про предысторию проекта, а также про мотивацию попилить командный проект. \u003C\u002Fp\u003E\u003Cp\u003EВторая часть – инженерная, про приложение, архитектуру, решение на основе машинного обучения, а также прикладные исследования, которые мы провели. Эта часть подразумевает, что читатель знаком с основами машинного обучения (если нет – \u003Ca href=\"https:\u002F\u002Fvas3k.ru\u002Fblog\u002Fmachine_learning\u002F\"\u003E\u003Cu\u003Eвот пост\u003C\u002Fu\u003E\u003C\u002Fa\u003E vas3k “Машинное обучение для людей”). \u003C\u002Fp\u003E\u003Cp\u003EТретья часть – про организацию работы, сложности, с которыми мы столкнулись, и хаки, повышающие продуктивность команды, к которым мы в итоге пришли. \u003C\u002Fp\u003E\u003Ch2\u003EПредыстория \u003C\u002Fh2\u003E\u003Cp\u003EЯ как-то знакомился с SoTA в NLP, делал для стартапа сентимент-анализ новостей о криптовалютах. Ребята начинали с майнинга, накупили 4500 (!) GPU, потом вдруг поняли, что девать их некуда, а биток майнить надо не на GPU, да и электричество в Москве уже дорогое. Переключились на онлайн-банкинг, позволяющий в один щелчок покупать биток в мобильном приложении. Заодно решили добавить AI в питч-дэки, и так я с нуля начал предсказывать сентимент новостей о криптовалютах. Идея в том, что инвестор с утреца берет кофе, читает газеты и составляет некое своем представление о “тональности” новостей о крипте, это может косвенно влиять на его решения о купле\u002Fпродаже битка.\u003C\u002Fp\u003E\u003Cp\u003EВот наиболее релевантный существующий \u003Ca href=\"https:\u002F\u002Falternative.me\u002Fcrypto\u002Ffear-and-greed-index\u002F\"\u003E\u003Cu\u003Eпроект\u003C\u002Fu\u003E\u003C\u002Fa\u003E «Crypto Fear &amp; Greed Index»\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb81\u002F111\u002F04f\u002Fb8111104f7e886eecdef5740a443ea01.jpeg\" alt=\"Crypto Fear &amp; Greed Index\" title=\"Crypto Fear &amp; Greed Index\" width=\"2356\" height=\"682\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb81\u002F111\u002F04f\u002Fb8111104f7e886eecdef5740a443ea01.jpeg 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb81\u002F111\u002F04f\u002Fb8111104f7e886eecdef5740a443ea01.jpeg 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003ECrypto Fear &amp; Greed Index\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EНо далее с очередным раундом были сложности, все опять ушло в майнинг, а про Эй-Яй забыли. Так у меня на руках остался веселый недоделанный проект, а также: \u003C\u002Fp\u003E\u003Cfigure class=\"float full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fdb9\u002Fed8\u002F38a\u002Fdb9ed838ad9ba0fd3a064428ec6847f0.png\" width=\"1106\" height=\"1586\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fdb9\u002Fed8\u002F38a\u002Fdb9ed838ad9ba0fd3a064428ec6847f0.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fdb9\u002Fed8\u002F38a\u002Fdb9ed838ad9ba0fd3a064428ec6847f0.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003E\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EОколо 4.5к коротких новостей о крипте (типа \u003Ca href=\"https:\u002F\u002Fbitcointicker.co\u002Fnews\u002F\"\u003E\u003Cu\u003Eтаких\u003C\u002Fu\u003E\u003C\u002Fa\u003E), размеченных на 3 класса: +\u002F-\u002Fneutral;                                              Список ресурсов с новостями о криптовалютах, которые стоит обкачивать + PHP-краулер – чисто FYI, использовать я его все равно не собирался ибо PHP, а я датасаентист, уверенно владеющий только питоном;                                    Горстка жупитер-нубуков с вариацией разных подходов, в частности, золотой бейзлайн tf-idf &amp; logreg, подбирающийся к 75% accuracy на кросс-валидации; \u003Ca href=\"https:\u002F\u002Fshare.streamlit.io\u002Fyorko\u002Fbitcoin_sentiment_streamlit\u002Fmain\u002Fsrc\u002Fapp.py\"\u003E\u003Cu\u003EДемка\u003C\u002Fu\u003E\u003C\u002Fa\u003E в Streamlit с уже более-менее нормальным \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcrypto-sentiment\u002Fcrypto_sentiment_tfidf_logreg_streamlit\"\u003E\u003Cu\u003Eкодом\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003Cu\u003E.\u003C\u002Fu\u003E\u003C\u002Fp\u003E\u003Ch2\u003EМотивация\u003C\u002Fh2\u003E\u003Cp\u003EСразу скажу примерно то же, что я выдал стартапу в самом начале: прогнозировать курс битка я не собираюсь. В принципе верю, что можно для этого как-то заюзать тональность новостей (все понимают, что одни только твиты Маска могут неплохо работать), но также поверю своему хорошему другу (а заодно executive director в лондонском голдмане), который утверждает, что без команды из ~10 умных ребят, работающих full-time, побить рыночек очень сложно, почти нереально. Так что я остановился чисто на анализе тональности. \u003C\u002Fp\u003E\u003Cp\u003EЦели участия в проекте были следующие:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EПолучить практический технический опыт в сфере MLOps, который можно переиспользовать на работе. Так совпало, что я на работе как раз в это время координировал DS-ов и инженеров в работе над собственной MLOps-платформой, много и сам делал руками, так что курс по MLOps попался под руку очень вовремя;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EПопрактивовать командную работу: планирование, code-review и т.д. Это более-менее понятно, когда гребешь на галере, а вот когда все на чистом энтузиазме делается да в свободное время, тут свои челленджи (например, нет ресурса, чтоб с каждым членом команды провести час в неделю и все обсудить);\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EЛично мне не хотелось бросать на полпути недоделанный проект, так что хотелось хотя бы как пет-проджект довести его до ума;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EНа выходе иметь демку и проект, которыми не стыдно поделиться, в том числе и на собесе. Как, например, \u003Ca href=\"https:\u002F\u002Fdraw-digit-predict.herokuapp.com\u002F\"\u003Eраспознавалка цифр\u003C\u002Fa\u003E в исполнении Андрея Лукьяненко.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EЗамечу, что не было цели сделать что-то реально крутое именно в области крипты, скажем, создать API и продавать прогнозы модели. Первичной целью был все же MLOps, а задача анализа тональности просто попалась под руку, или, скорее, была расчехлена и спущена с пыльной полки с желанием довести ее до ума. \u003C\u002Fp\u003E\u003Ch2\u003EЧто получилось на выходе\u003C\u002Fh2\u003E\u003Cp\u003EПокажу еще раз фронтенд \u003Ca href=\"https:\u002F\u002Fcryptobarometer.org\u002F\"\u003Ehttps:\u002F\u002Fcryptobarometer.org\u002F\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003EЕсть барометр, показывающий среднюю тональность за сутки, также показываются средние значения тональности неделю назад, месяц назад и строится график этой метрики во времени. Еще показываются несколько последних новостей вместе с прогнозами (можно заметить, что фильтрацию новостей все еще можно улучшать: \u003Cem\u003E\"Iran to shut down Bitcoin miners as electricity demand spikes\"\u003C\u002Fem\u003E – точно плохая новость, а вот \u003Cem\u003E\"ETC [Etherium Classic] turties should note down these points before setting trigger\"\u003C\u002Fem\u003E - не совсем-то и новость).\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4b4\u002F95a\u002Fd3f\u002F4b495ad3f4915674d1158092d14b5a1e.png\" alt=\"Барометр, исторические значения тональности и последние новости\" title=\"Барометр, исторические значения тональности и последние новости\" width=\"2578\" height=\"1444\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4b4\u002F95a\u002Fd3f\u002F4b495ad3f4915674d1158092d14b5a1e.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4b4\u002F95a\u002Fd3f\u002F4b495ad3f4915674d1158092d14b5a1e.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EБарометр, исторические значения тональности и последние новости\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4df\u002Fcb4\u002F4d8\u002F4dfcb44d8de8bc05d7748833afa90bce.png\" alt=\"График средней тональности новостей во времени\" title=\"График средней тональности новостей во времени\" width=\"2568\" height=\"1278\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4df\u002Fcb4\u002F4d8\u002F4dfcb44d8de8bc05d7748833afa90bce.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F4df\u002Fcb4\u002F4d8\u002F4dfcb44d8de8bc05d7748833afa90bce.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EГрафик средней тональности новостей во времени\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EТакже можно поиграться с моделью – ввести произвольный текст и получить прогнозы – предсказанные значения положительной, нейтральной и негативной тональности. \u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F93f\u002F93f\u002F375\u002F93f93f37547b6b1b77f7c40528205f47.png\" alt=\"Интерактивные прогнозы модели для текста, введенного пользователем\" title=\"Интерактивные прогнозы модели для текста, введенного пользователем\" width=\"2566\" height=\"980\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F93f\u002F93f\u002F375\u002F93f93f37547b6b1b77f7c40528205f47.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F93f\u002F93f\u002F375\u002F93f93f37547b6b1b77f7c40528205f47.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EИнтерактивные прогнозы модели для текста, введенного пользователем\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EЭто все приятный фронтенд. Теперь бэкенд (\u003Cem\u003Eтут я пересилил желание вставить пару мемов про фронт vs. бэк\u003C\u002Fem\u003E). \u003C\u002Fp\u003E\u003Cp\u003EФинальная схема архитектуры приложения выглядит так:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Faaf\u002F53a\u002F4fb\u002Faaf53a4fb0adf432c5b57701b01fed6d.png\" alt=\"Финальная версия архитектуры приложения \" title=\"Финальная версия архитектуры приложения \" width=\"2771\" height=\"1646\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Faaf\u002F53a\u002F4fb\u002Faaf53a4fb0adf432c5b57701b01fed6d.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Faaf\u002F53a\u002F4fb\u002Faaf53a4fb0adf432c5b57701b01fed6d.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EФинальная версия архитектуры приложения\n\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EЛогика такая:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003Eв \u003Cem\u003Eбазе \u003C\u002Fem\u003Eесть\u003Cem\u003E \u003C\u002Fem\u003Eтаблицы для неразмеченных новостей, прогнозов модели и размеченных новостей;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003Eкраулер\u003C\u002Fem\u003E ходит в веб, забирает свежие новости и кладет их в \u003Cem\u003Eбазу. \u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eесть обученная модель и \u003Cem\u003Emodel API, \u003C\u002Fem\u003Eк которому можно обратиться с любым текстом и получить в ответ предсказанные значения для положительной, нейтральной и негативной тональности\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eсервис \u003Cem\u003Emodel scorer\u003C\u002Fem\u003E  проверяет\u003Cem\u003E \u003C\u002Fem\u003Eсвежие новости в \u003Cem\u003Eбазе\u003C\u002Fem\u003E, если есть, то забирает все новости без прогнозов, дергает\u003Cem\u003E model API, \u003C\u002Fem\u003Eполучает прогнозы и пишет новости в базу с флагом, что эти новости уже \"проскорены\";\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eесть \u003Cem\u003EMLFlow-сервер\u003C\u002Fem\u003E и сервис по обучению моделей \u003Cem\u003Emodel trainer, \u003C\u002Fem\u003Eкоторый\u003Cem\u003E \u003C\u002Fem\u003Eзабирает данные из базы, обучает модель и логирует артефакты с MLFlow. MLFlow, в свою очередь, использует Minio для хранения артефактов моделей (model registry);\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eперед \u003Cem\u003Eбазой \u003C\u002Fem\u003Eмы поставили \u003Cem\u003EData Provider API\u003C\u002Fem\u003E, у которого различные сервисы могут запросить данные, например, последние 10 новостей, вместо того чтобы ходить напрямую в \u003Cem\u003Eбазу;\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003Eфронтенд\u003C\u002Fem\u003E получает метрики у \u003Cem\u003EData Provider API, \u003C\u002Fem\u003Eа также может напрямую обращаться к \u003Cem\u003Emodel API, \u003C\u002Fem\u003Eчтоб выдавать прогноз для текста, введенного пользователем;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003ELabel Studio\u003C\u002Fem\u003E умеет забирать новости из \u003Cem\u003Eбазы на \u003C\u002Fem\u003Eразметку,\u003Cem\u003E \u003C\u002Fem\u003Eпредлагает пользователям интерфейс для разметки данных, а также умеет экспортировать размеченные данные в \u003Cem\u003Eбазу;\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eнаконец, есть \u003Cem\u003EScheduler\u003C\u002Fem\u003E, запускающий по графику \u003Cem\u003Eкраулер\u003C\u002Fem\u003E, \u003Cem\u003Emodel scorer\u003C\u002Fem\u003E и \u003Cem\u003ELabel Studio, \u003C\u002Fem\u003Eтак что каждые 6 часов качаются свежие новости, размечаются моделью, импортируются на разметку, а также раз в сутки размеченные новости экспортируются в \u003Cem\u003Eбазу.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EВсе эти сервисы разворачиваются с docker-compose, как именно – можно посмотреть в \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcrypto-sentiment\u002Fcrypto_sentiment_demo_app\"\u003Eрепозитории\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003E Давайте теперь пройдемся по каждому из компонентов более детально.\u003C\u002Fp\u003E\u003Ch3\u003EБаза Postgres\u003C\u002Fh3\u003E\u003Cp\u003EМы пришли к такой схеме таблиц\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F437\u002F893\u002Fa4a\u002F437893a4ac75e3502bfa75479f2544cd.png\" alt=\"Схема таблиц с данными\" title=\"Схема таблиц с данными\" width=\"1600\" height=\"881\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F437\u002F893\u002Fa4a\u002F437893a4ac75e3502bfa75479f2544cd.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F437\u002F893\u002Fa4a\u002F437893a4ac75e3502bfa75479f2544cd.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EСхема таблиц с данными\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EЕсть таблица с сырыми новостями \u003Ccode\u003Enews_titles\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EID новости (\u003Ccode\u003Etitle_id\u003C\u002Fcode\u003E);\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EНазвание новости (\u003Ccode\u003Etitle\u003C\u002Fcode\u003E);\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EИсточник новости (\u003Ccode\u003Esource\u003C\u002Fcode\u003E);\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EДата публикации (\u003Ccode\u003Epub_time\u003C\u002Fcode\u003E).\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EКраулер пишет новости именно в эту таблицу.\u003C\u002Fp\u003E\u003Cp\u003E Также есть таблица \u003Ccode\u003Emodel_predictions\u003C\u002Fcode\u003E с прогнозами модели для каждой новости:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EID новости (\u003Ccode\u003Etitle_id\u003C\u002Fcode\u003E);\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E3 поля под каждый класс – предсказанная вероятность того, что новость имеет положительную (\u003Ccode\u003Epositive\u003C\u002Fcode\u003E), нейтральную (\u003Ccode\u003Eneutral\u003C\u002Fcode\u003E) и негативную тональность (\u003Ccode\u003Enegative\u003C\u002Fcode\u003E);\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EТакже помимо предсказанных вероятностей удобно хранить и предсказанный класс – 0, 1 или 2 в зависимости от значений \u003Ccode\u003Epositive\u003C\u002Fcode\u003E, \u003Ccode\u003Eneutral\u003C\u002Fcode\u003E, \u003Ccode\u003Enegative\u003C\u002Fcode\u003E;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EНаконец, есть флаг \u003Ccode\u003Eis_annotating\u003C\u002Fcode\u003E, чтоб мы знали, какие новости мы уже утащили в LabelStudio на разметку, а какие еще нет.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EИ еще есть таблица \u003Ccode\u003Elabeled_news_titles\u003C\u002Fcode\u003E для размеченных новостей, экспортированных из LabelStudio:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EID новости (\u003Ccode\u003Etitle_id\u003C\u002Fcode\u003E);\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Elabel\u003C\u002Fcode\u003E (0, 1, 2) - в зависимости от ручной разметки в интерфейсе LabelStudio;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Ccode\u003Eannotation_time\u003C\u002Fcode\u003E  – время разметки.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Ch3\u003EКраулер\u003C\u002Fh3\u003E\u003Cp\u003EКраулер обкачивает отобранные RSS-фиды (\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcrypto-sentiment\u002Fcrypto_sentiment_demo_app\u002Fblob\u002Fmain\u002Fdata\u002Fcrypto_rss_feeds.txt\"\u003Eсписок\u003C\u002Fa\u003E можно найти в нашей репе) и делает фильтрацию: выкидывает все что не на английском, оставляет только тексты с глаголом (сложно представить новость без единого глагола) и т.д. Далее краулер пишет отфильтрованные новости в таблицу \u003Ccode\u003Enews_titles\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Cp\u003EШаг с фильтрацией новостей довольно важен. Оглядываясь назад, при разметке данных мы бы еще просили указать, считает ли эксперт строку текста вообще новостью или нет. Таким образом, была бы надежда, что ML-модель сможет выучить и этот сигнал, помимо тональности. И сейчас у нас в приложении \u003Ca href=\"https:\u002F\u002Fcryptobarometer.org\u002F\"\u003E\u003Cu\u003Ehttps:\u002F\u002Fcryptobarometer.org\u002F\u003C\u002Fu\u003E\u003C\u002Fa\u003E можно найти “новости”, которые не очень-то и похожи на новости, например:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E“\u003Cem\u003ELaw Decoded, June 13-20: Celcius exodus and liqudity crisis\u003C\u002Fem\u003E” (этот кусок текста остался, видимо, из-за слова decoded, перепутанного с глаголом. Модель среагировала на \u003Cem\u003Eliqudity crisis \u003C\u002Fem\u003Eи выдала всего 1\u002F100, посчитав данный кусок текста очень плохой новостью);\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003EETC [Etherium Classic] turties should note down these points before setting trigger \u003C\u002Fem\u003E(тоже не новость).\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EКонечно, краулер можно улучшать и улучшать, например добавлять твиты влиятельных людей (их легко найти, там далеко не один только Маск), делать более строгую фильтрацию, и т.д.\u003C\u002Fp\u003E\u003Ch3\u003EAPI модели\u003C\u002Fh3\u003E\u003Cp\u003EТут уместно рассказать чуть подробней про задачу и модель, к которой мы в итоге пришли.\u003C\u002Fp\u003E\u003Cp\u003EВ начале у нас было 4500 новостей, размеченных на 3 класса частично экспертами, частично – с помощью краудсорсинга (Amazon Mechanical Turk).\u003C\u002Fp\u003E\u003Cp\u003EНиже представлены кривые обучения (как метрики на кросс-валидации зависят от размера выборки) для базовой модели, “золотого NLP-бейзлайна” – логистической регрессии с Tf-Idf-преобразованием текста (если вы ничего не поняли в этой фразе, советую посмотреть \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fods\u002Fblog\u002F322626\u002F\"\u003E\u003Cu\u003Eоткрытый курс машинного обучения\u003C\u002Fu\u003E\u003C\u002Fa\u003E тут на Хабре, в частности, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fods\u002Fblog\u002F323890\u002F\"\u003E\u003Cu\u003Eстатью\u003C\u002Fu\u003E\u003C\u002Fa\u003E про линейные модели классификации и регрессии). \u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F75b\u002F8af\u002F16b\u002F75b8af16ba673af59f9096763755fc2b.png\" alt=\"Кривые обучения с базовой моделью \" title=\"Кривые обучения с базовой моделью \" width=\"1600\" height=\"1067\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F75b\u002F8af\u002F16b\u002F75b8af16ba673af59f9096763755fc2b.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F75b\u002F8af\u002F16b\u002F75b8af16ba673af59f9096763755fc2b.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EКривые обучения с базовой моделью \u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EПростая модель подбирается примерно к 74% верных ответов на кросс-валидации при балансе классов: 45% положительных новостей, 35% – негативных, 20 – нейтральных. Неплохо, хотя мы заметили, что простая модель не понимает даже простых отрицаний, например, и “\u003Cem\u003EBTC will drop by 10% tomorrow\u003C\u002Fem\u003E” и  “\u003Cem\u003EBTC will \u003C\u002Fem\u003E\u003Cstrong\u003E\u003Cem\u003Enot\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E\u003Cem\u003E drop by 10% tomorrow\u003C\u002Fem\u003E” считает негативными новостями. \u003C\u002Fp\u003E\u003Cp\u003EВпослдествии мы провели немало экспериментов и остановились на BERT модели, у которой доля верных ответов на кросс-валидации – около 81.5%, что уже совсем неплохо, так как замеренный нами уровень согласованности разметки – от 80% до 90%, то есть BERT уже размечает новости не хуже среднего кожаного мешка.   \u003C\u002Fp\u003E\u003Cp\u003EМодель мы тренируем с MLFlow, о котором чуть ниже, и разворачиваем с FastAPI. В \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcrypto-sentiment\u002Fcrypto_sentiment_model_fast_api\"\u003E\u003Cu\u003Eэтом репозитории\u003C\u002Fu\u003E\u003C\u002Fa\u003E можно увидеть, как именно это делается.  \u003C\u002Fp\u003E\u003Cp\u003EBERT мы задеплоили с ONNX-сериализацией, что позволяет делать эффективный инференс на CPU.\u003C\u002Fp\u003E\u003Ch3\u003EModel scorer\u003C\u002Fh3\u003E\u003Cp\u003EЭтот сервис нужен для того, чтобы показывать тональность самых свежих новостей. Сервис по графику проверяет свежие новости в \u003Cem\u003Eбазе\u003C\u002Fem\u003E и, если они есть, забирает все новости без прогнозов, дергает\u003Cem\u003E model API, \u003C\u002Fem\u003Eполучает прогнозы и пишет новости в базу с флагом, что эти новости уже \"проскорены\". Тут в детали вдаваться не очень интересно.  \u003C\u002Fp\u003E\u003Ch3\u003EMLFlow и сервис обучения моделей\u003C\u002Fh3\u003E\u003Cp\u003EМы реализовали абстрактный класс для обучения, у котого есть наследники для простой модели tf-idf &amp; logreg  и для BERT-модели. Если интересно, исходники \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcrypto-sentiment\u002Fcrypto_sentiment_demo_app\u002Ftree\u002Fmain\u002Fcrypto_sentiment_demo_app\"\u003E\u003Cu\u003Eтут\u003C\u002Fu\u003E\u003C\u002Fa\u003E в модулях models и train. \u003C\u002Fp\u003E\u003Cp\u003EДля трекинга экспериментов и хранения артефактов моделей мы использовали MLFLow в \u003Ca href=\"https:\u002F\u002Fwww.mlflow.org\u002Fdocs\u002Flatest\u002Ftracking.html#scenario-4-mlflow-with-remote-tracking-server-backend-and-artifact-stores\"\u003E\u003Cu\u003E4-ом сценарии\u003C\u002Fu\u003E\u003C\u002Fa\u003E, когда S3 используется для хранения моделей (в нашем случае – \u003Ca href=\"https:\u002F\u002Fmin.io\u002F\"\u003E\u003Cu\u003EMinio\u003C\u002Fu\u003E\u003C\u002Fa\u003E), а база Postgres – для хранения метрик экспериментов. \u003C\u002Fp\u003E\u003Cp\u003EЕсли хочется это повторить, отправим вас к \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=KZ5Cdevd-b8&amp;ab_channel=%D0%9F%D0%B0%D0%B2%D0%B5%D0%BB%D0%9A%D0%B8%D0%BA%D0%B8%D0%BD\"\u003E\u003Cu\u003Eлекции курса\u003C\u002Fu\u003E\u003C\u002Fa\u003E по MLOPs, где Павел Кикин как раз разворачивает описанные сервисы с docker-compose. \u003C\u002Fp\u003E\u003Ch3\u003EData Provider API\u003C\u002Fh3\u003E\u003Cp\u003EЧтоб сервисы не ходили напрямую в базу, мы развернули перед ней Data Provider API – FastAPI c набором endpoints, по которым можно забрать разные данные и метрики из базы.\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F810\u002F06f\u002F0d1\u002F81006f0d11096300326e2519cbe83e8b.png\" alt=\"Data Provider API\" title=\"Data Provider API\" width=\"1600\" height=\"1265\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F810\u002F06f\u002F0d1\u002F81006f0d11096300326e2519cbe83e8b.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F810\u002F06f\u002F0d1\u002F81006f0d11096300326e2519cbe83e8b.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EData Provider API\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EНапример, можно взять среднюю предсказанную положительную тональность для всех новостей за последние 24 часа. Или значения той же метрики по дням за последнюю неделю. \u003C\u002Fp\u003E\u003Ch3\u003EФронтенд \u003C\u002Fh3\u003E\u003Cp\u003EФронтенд общается с Data Provider API, получает данные и отображает их. Например, барометр рисуется на основе запроса к endpoint Data Provider API \u003Ca href=\"http:\u002F\u002Fec2-54-76-18-79.eu-west-1.compute.amazonaws.com:8002\u002Fdocs#\u002Fdefault\u002Favg_positive_last_n_hours_positive_score_average_last_hours_get\"\u003E\u003Cu\u003E\u002Fpositive_score\u002Faverage_last_hours.\u003C\u002Fu\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003Cp\u003EТакже фронтенд умеет напрямую обращаться к API модели, чтоб отрисовать прогнозы для произвольного текста, введенного пользователем. \u003C\u002Fp\u003E\u003Cp\u003EПро сам фронтенд в деталях не расскажу, ибо нуб в этом деле (фронтенд у нас разрабатывала Залина \u003Ca class=\"mention\" href=\"\u002Fusers\u002Flinkag\"\u003E@LinkaG\u003C\u002Fa\u003E). Но вкратце: это React на базе \u003Ca href=\"https:\u002F\u002Fwww.figma.com\u002F\"\u003E\u003Cu\u003EFigma\u003C\u002Fu\u003E\u003C\u002Fa\u003E-шаблона.\u003C\u002Fp\u003E\u003Ch3\u003ELabelStudio &amp; active learning\u003C\u002Fh3\u003E\u003Cp\u003EМы также развернули \u003Cem\u003ELabel Studio\u003C\u002Fem\u003E для ручной разметки данных. Идея в том, что мы можем в любой момент доразметить свежие новости. \u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F595\u002Feb0\u002F55f\u002F595eb055f882fb1cc7391cc88b040fbf.png\" alt=\"Интерфейс LabelStudio\" title=\"Интерфейс LabelStudio\" width=\"1600\" height=\"577\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F595\u002Feb0\u002F55f\u002F595eb055f882fb1cc7391cc88b040fbf.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F595\u002Feb0\u002F55f\u002F595eb055f882fb1cc7391cc88b040fbf.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EИнтерфейс LabelStudio\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003E\u003Cem\u003ELabel Studio \u003C\u002Fem\u003Eумеет забирать новости из \u003Cem\u003Eбазы на \u003C\u002Fem\u003Eразметку\u003Cem\u003E, \u003C\u002Fem\u003Eпредлагает пользователям интерфейс для разметки данных и также умеет экспортировать размеченные данные в \u003Cem\u003Eбазу.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003Cp\u003EМы реализовали active learning – забираются не случайные новости, а те, для которых модель выдает \u003Cem\u003Eне очень уверенный прогноз\u003C\u002Fem\u003E, т.е. такие новости более перспективны для разметки. Если не слышали этот термин, советую \u003Ca href=\"https:\u002F\u002Fblog.fastforwardlabs.com\u002F2019\u002F04\u002F02\u002Fa-guide-to-learning-with-limited-labeled-data.html\"\u003E\u003Cu\u003Eэтот блог пост\u003C\u002Fu\u003E\u003C\u002Fa\u003E о том, что делать, когда размеченных данных мало и как отбирать данные на разметку эффективно. \u003C\u002Fp\u003E\u003Cp\u003EПонятие \u003Cem\u003Eне очень уверенный прогноз \u003C\u002Fem\u003Eможно определить формально, например, через энтропию прогнозов модели (о применении энтропии в машинном обучении можно почитать, например, в \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fods\u002Fblog\u002F322534\u002F\"\u003E\u003Cu\u003Eстатье\u003C\u002Fu\u003E\u003C\u002Fa\u003E открытого курса по машинному обучению, где речь идет о построении деревьев решений). Чем выше энтропия – тем менее модель уверена в прогнозе, в частности, для 3 классов (positive\u002Fneutral\u002Fnegative) энтропия будет максимальна, когда модель выдает равные предсказанные вероятности: ⅓ для positive, ⅓ для neutral и ⅓ для negative. Очевидно, в таком случае модель не сумела “решить”, куда отнести новость. Наверное, поможет, если тут в дело вступится человек и сам разметит такую новость. Это в двух словах – идея active learning, в данном случае с энтропийным критерием. А критериев может быть много разных. Мы поисследовали несколько из них и остановились на энтропийном (также есть довольно масштабные \u003Ca href=\"https:\u002F\u002Farxiv.org\u002Fpdf\u002F1611.08618.pdf\"\u003E\u003Cu\u003Eбенчмарки\u003C\u002Fu\u003E\u003C\u002Fa\u003E, подтверждающие такой выбор). \u003C\u002Fp\u003E\u003Ch3\u003EScheduler\u003C\u002Fh3\u003E\u003Cp\u003EНаконец, у нас есть шедулер, запускающий по графику \u003Cem\u003Eкраулер\u003C\u002Fem\u003E, \u003Cem\u003Emodel scorer\u003C\u002Fem\u003E и \u003Cem\u003ELabel Studio, \u003C\u002Fem\u003Eтак что каждые 6 часов качаются свежие новости, размечаются моделью, импортируются на разметку, а также раз в сутки размеченные новости экспортируются в \u003Cem\u003Eбазу.\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003Cp\u003EДовольно приятным открытием был шедулер \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmcuadros\u002Fofelia\"\u003E\u003Cu\u003EOfelia\u003C\u002Fu\u003E\u003C\u002Fa\u003E, позволяющий в два счета запускать задачи в docker или  docker-compose по расписанию. \u003C\u002Fp\u003E\u003Ch2\u003EПрикладные исследования\u003C\u002Fh2\u003E\u003Cp\u003EПомимо собственно разработки всех микросервисов, описанных выше, мы довольно активно рисечили. Опишу только главные находки.\u003C\u002Fp\u003E\u003Ch4\u003EАктивное обучение\u003C\u002Fh4\u003E\u003Cp\u003EУпомянутый active learning действительно позволяет быстрее достигать хорошего качества модели. \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcrypto-sentiment\u002Fcrypto_sentiment_notebooks\u002Fblob\u002Fmain\u002Fnotebooks\u002F20220418_active_learning_survey.ipynb\"\u003E\u003Cu\u003EТут\u003C\u002Fu\u003E\u003C\u002Fa\u003E \u003Ca class=\"mention\" href=\"\u002Fusers\u002Falexandrinvictor\"\u003E@AlexandrinVictor\u003C\u002Fa\u003Eрассмотрел несколько методов применительно к нашей задаче, в том числе и такие нетривиальные как Monte Carlo Dropout (инференс модели делается несколько раз с разными значениями дропаута, получается ансамбль, неопределенность прогнозов считается по дисперсии прогнозов этого ансамбля). Можно посмотреть на это исследование и как на хороший пример организации эксперимента и вообще написания кода. \u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F944\u002Fb92\u002F1db\u002F944b921dbd2f4616d7a3a561bac0e9a4.png\" alt=\"Кривые обучения в зависимости от критерия отбора примеров (активное обучение)\" title=\"Кривые обучения в зависимости от критерия отбора примеров (активное обучение)\" width=\"615\" height=\"387\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F944\u002Fb92\u002F1db\u002F944b921dbd2f4616d7a3a561bac0e9a4.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F944\u002Fb92\u002F1db\u002F944b921dbd2f4616d7a3a561bac0e9a4.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EКривые обучения в зависимости от критерия отбора примеров (активное обучение)\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EВ целом на наших данных разные критерии active learning проявили себя примерно одинаково, и мы выбрали в итоге энтропийный. \u003C\u002Fp\u003E\u003Ch4\u003EChecklist для тестирования модели\u003C\u002Fh4\u003E\u003Cp\u003E“Beyond Accuracy: Behavioral Testing of NLP Models with CheckList” - лучшая \u003Ca href=\"https:\u002F\u002Faclanthology.org\u002F2020.acl-main.442\u002F\"\u003E\u003Cu\u003Eстатья\u003C\u002Fu\u003E\u003C\u002Fa\u003E престижной конференции ACL 2019 года. Авторы зарелизили \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmarcotcr\u002Fchecklist\"\u003E\u003Cu\u003Eфреймворк\u003C\u002Fu\u003E\u003C\u002Fa\u003E, с помощью которого можно прописывать тесты для модели и изучать ее ошибки. \u003C\u002Fp\u003E\u003Cp\u003EНапример, можно сгенерировать отрицания наподобие “btc does not drop by 10%” или “btc won’t drop by 10%\"  и количественно оценить, насколько хорошо модель с ними справляется. Кстати, так мы и пришли к выводу, что BERT нормально поддерживет отрицания. \u003C\u002Fp\u003E\u003Cp\u003EДругой пример: с помощью NER (Named Entity Recognition) фреймворк поможет на основе новости “china's central bank to continue bitcoin exchange inspections” наплодить много похожих, но упоминающих другие криптовалюты ( \"china's central bank to continue ethereum exchange inspections\", \"china's central bank to continue ripple exchange inspections\" и т.д.). После этого можно провести invariance test: проверить, будет ли для модифицированных новостей прогноз таким же, как для исходной новости. \u003C\u002Fp\u003E\u003Cp\u003EЭто исследование также провел \u003Ca class=\"mention\" href=\"\u002Fusers\u002Falexandrinvictor\"\u003E@AlexandrinVictor\u003C\u002Fa\u003E, код \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcrypto-sentiment\u002Fcrypto_sentiment_notebooks\u002Fblob\u002Fmain\u002Fnotebooks\u002F20220430_btc_4500_titles_and_assessment_data_checklist.ipynb\"\u003E\u003Cu\u003Eтут\u003C\u002Fu\u003E\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Ch4\u003EAdversarial Validation для обнаружения дрифта в данных \u003C\u002Fh4\u003E\u003Cp\u003EAdversarial validation – подход, про который я узнал на Kaggle, который, кажется, под разными именами постоянно переизобретается и в академии, и в индустрии. Идея очень проста: \u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EВозьмем наши данные – обучающую и тестовую выборку.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EОставим признаки, а целевой признак (например, тональность) просто выкинем.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EВместо целевого признака сделаем простой бинарный – 1-ми пометим тестовую выборку, а 0-ми – обучающую.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EПроводим кросс-валидацию, если ROC AUC близок к 100%, значит, модель легко отличает тестовую выборку от обучающей, есть дрифт. Если ROC AUC близок к 50%, значит, модель не отличает выборки и дрифт не обнаружила. \u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6f3\u002Fa44\u002Feb7\u002F6f3a44eb729e26a192c36d9706b69187.png\" alt=\"Модель успешно отличает новые данные от старых\" title=\"Модель успешно отличает новые данные от старых\" width=\"772\" height=\"532\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6f3\u002Fa44\u002Feb7\u002F6f3a44eb729e26a192c36d9706b69187.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F6f3\u002Fa44\u002Feb7\u002F6f3a44eb729e26a192c36d9706b69187.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EМодель успешно отличает новые данные от старых\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EВ нашем случае обучающая выборка пришла из 2017-2018, а тестовая – из 2022, то что мы сами недавно разметили. И конечно, “распределения съехали”, с 2017-го новости сильно поменялись. Что и было заметно при adversarial validation – даже простая модель легко отличила новые данные от старых. \u003C\u002Fp\u003E\u003Cp\u003EВ качестве бонуса, можно посмотреть на коэффициенты модели и вытащить слова\u002Fбиграммы наиболее характерные для обучающей или тестовой выборки. Выглядит скорее как развлечение, чем полезный инсайт, но в 2022-м в новостях стали чаще появляться NFT, metaverse, web3 (очевидно), а также oil и cannabis (менее очевидно). \u003C\u002Fp\u003E\u003Cp\u003EКод, сопровождающий описанный эксперимент – \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fcrypto-sentiment\u002Fcrypto_sentiment_notebooks\u002Fblob\u002Fmain\u002Fnotebooks\u002F20220530_adversarial_validation_for_data_drift_train_vs_recent_rss_feeds.ipynb\"\u003E\u003Cu\u003Eтут\u003C\u002Fu\u003E\u003C\u002Fa\u003E. \u003C\u002Fp\u003E\u003Ch4\u003EАугментации данных\u003C\u002Fh4\u003E\u003Cp\u003EАугментации данных\u003Cstrong\u003E \u003C\u002Fstrong\u003Eотлично работают в задачах компьютерного зрения (см, например, библиотеку \u003Ca href=\"https:\u002F\u002Falbumentations.ai\u002F\"\u003E\u003Cu\u003Ealbumentations\u003C\u002Fu\u003E\u003C\u002Fa\u003E), а вот в NLP с ними как-то все не так однозначно. Есть примеры из Kaggle-соревнований, например, из \u003Ca href=\"https:\u002F\u002Fwww.kaggle.com\u002Fcompetitions\u002Fjigsaw-toxic-comment-classification-challenge\u002Fdiscussion\u002F48038#272289\"\u003E\u003Cu\u003Eэтого поста\u003C\u002Fu\u003E\u003C\u002Fa\u003E я узнал про backtranslation и как это помогло Павлу Остякову затащить соревнование по предсказанию токсичности комментариев, в котром я тоже участвовал. Суть backtranslation в том, что мы расширяем обучающую выборку за счет перевода примеров из исходного языка в какой-то другой, а затем обратно. Например, из английского в немецкий, а потом промежуточный результат на немецком переводим обратно в английский. \u003C\u002Fp\u003E\u003Cp\u003EПравда, на практике заходит это как-то хуже, что я слышу и от коллег. Да и \u003Ca href=\"https:\u002F\u002Faclanthology.org\u002F2022.insights-1.12.pdf\"\u003E\u003Cu\u003Eвот свежая статья\u003C\u002Fu\u003E\u003C\u002Fa\u003E с ACL 2022 “On the Impact of Data Augmentation on Downstream Performance in Natural Language Processing”, в которой провели немало экспериментов с разными NLP-задачами и техниками аугментации и пришли к выводу, что ни одна из них не помогает стабильно. \u003C\u002Fp\u003E\u003Cp\u003EВот и нам не удалось завести аугментации. Возможно, из-за того что новости – короткие, и аугментированные новости получаются слишком похожими на исходные.\u003C\u002Fp\u003E\u003Ch2\u003EОрганизация работы\u003C\u002Fh2\u003E\u003Cp\u003EПосле того, как мы рассказали в целом о том, что получилось на выходе, хочется обсудить и организацию работы в команде, а также про челленджи. В целом мы получили отличный опыт, и хочется им поделиться, а заодно порефлексировать о том, что можно было сделать лучше. Основная цель – помочь тем, кто хочет поучаствовть в команде, поработать над классным проектом (не обязательно ML), но не знает, как это делать лучше. \u003C\u002Fp\u003E\u003Ch3\u003EРоли в команде\u003C\u002Fh3\u003E\u003Cp\u003EКажется, что даже в пет-проджекте хорошо бы выделить роли и не толкаться, не бороться за задачи. Еще наблюдение (подкрепленное также опытом командной работы в Kaggle -соревнованиях): оптимальный размер команды – от 3 до 5 человек. Точно не больше 5. Исходя из этого, я выделил следующие роли:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EОдин ML-инженер. Тут более-менее понятно – делать все то, что изучали в \u003Ca href=\"https:\u002F\u002Fods.ai\u002Ftracks\u002Fml-in-production-spring-22\"\u003Eкурсе\u003C\u002Fa\u003E и с чем мы сталкиваемся на практике в рабочих проектах: собирать Docker-контейнеры, настраивать кубер, если надо, CI\u002FCD, деплоить модели, поддерживать model life cycle;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EДва Data Scientist-a\u002Fаналитика\u002FML-исследователя. Это уже атаковать исследовательские задачи, перед тем как позвать народ, я создал список интересных (мне) задач, позже мы набросали еще (можно использовать сервисы типа \u003Ca href=\"https:\u002F\u002Feasyretro.io\u002F\"\u003Ehttps:\u002F\u002Feasyretro.io\u002F\u003C\u002Fa\u003E для брейнсторминга). Выше уже были примеры с active learning и исследованием ошибок модели, но бэклог исследовательских и инженерных идей у нас накопился немалый, мозговой штурм тут хорошо помог;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EОдин Data Engineer. Тут из задач было сделать краулер новостей, настроить базу для их хранения и т.д.;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EТимлид (это я оставил за собой). Это координация задач, помощь с затыками, организация процесса работы - двигание тикетов, подбадривание, шутки. Истории из прошлых релевантных проектов. Предполагается, что тимлид еще не разучился писать код и мержить ветки. \u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EРоли не жестко прописаны. Как в стартапе, так и в пет-проджекте, можно брать на себя много всего. В частности, если хочется немного залезть во фронтенд, можно залезть и сделать красивый лендинг.\u003C\u002Fp\u003E\u003Ch3\u003EЦели\u003C\u002Fh3\u003E\u003Cp\u003EПри работе над бодрым пет-проджектом хочется сохранить некоторый баланс - не тащить прям все процессы \"с галеры\", то есть то, что мы практикуем в ежедневной работе – OKR (Objectives &amp; Key Results), стендапы, ретро и прочие Agile-ритуалы. Но все же хочется хорошо понимать, что мы командой хотим достичь за ближайшие ~2 месяца. Поэтому я сформулировал цели, которые мы хотим достичь, в формате OKR (про фреймворк Objectives &amp; Key Results \u003Ca href=\"https:\u002F\u002Fwww.atlassian.com\u002Fteam-playbook\u002Fplays\u002Fokrs\"\u003Eнеплохо пишет\u003C\u002Fa\u003E Atlassian). Выглядело это так:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F998\u002F5d7\u002F927\u002F9985d792727fc72288b6c05a0f8b0269.png\" alt=\"Первая цель – базовое решение\" title=\"Первая цель – базовое решение\" width=\"1456\" height=\"1498\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F998\u002F5d7\u002F927\u002F9985d792727fc72288b6c05a0f8b0269.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F998\u002F5d7\u002F927\u002F9985d792727fc72288b6c05a0f8b0269.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EПервая цель – базовое решение\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F3fd\u002F2bc\u002Fcab\u002F3fd2bccabd48cf881730cc98f16bab7d.png\" alt=\"Вторая цель – продвинутое решение\" title=\"Вторая цель – продвинутое решение\" width=\"1450\" height=\"1544\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F3fd\u002F2bc\u002Fcab\u002F3fd2bccabd48cf881730cc98f16bab7d.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F3fd\u002F2bc\u002Fcab\u002F3fd2bccabd48cf881730cc98f16bab7d.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EВторая цель – продвинутое решение\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EМы использовали \u003Ca href=\"https:\u002F\u002Fwww.notion.so\u002F\"\u003ENotion\u003C\u002Fa\u003E, в котором можно найти много классных шаблонов – и для OKR, для домашней страницы проекта, доски Kanban и почти чего угодно.\u003C\u002Fp\u003E\u003Ch4\u003EScrum и спринты\u003C\u002Fh4\u003E\u003Cp\u003EМы работали спринтами по 3 недели и встречались 1-2 раза в неделю на полчаса-час. В нашем небольшом проекте было всего 2 спринта по 3 недели, которые неплохо соотносились с представленными выше OKR – один спринт на MVP-решение, один – на продвинутое. \u003C\u002Fp\u003E\u003Cp\u003EПрогресс трекали с помощью доски Kanban в том же Notion\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F093\u002F1af\u002Ff20\u002F0931aff202e6f0af8db5e69376765748.png\" alt=\"Доска Kanban\" title=\"Доска Kanban\" width=\"1600\" height=\"815\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F093\u002F1af\u002Ff20\u002F0931aff202e6f0af8db5e69376765748.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002F093\u002F1af\u002Ff20\u002F0931aff202e6f0af8db5e69376765748.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EДоска Kanban\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EПользоваться Notion понравилось, даже в бесплатной версии не уперлись ни в какие ограничения. Впрочем, мы использовали минимальный функционал. \u003C\u002Fp\u003E\u003Ch3\u003EMVP и основные сложности \u003C\u002Fh3\u003E\u003Cp\u003EЯ подробно описал решение, полученное на выходе. Но хочется также описать, как мы к этому шли и какие сложности были по дороге. Мы начали с того, что тимлид (я) набросал первую архитектуру решения, выделил основные компоненты и раскидал задачи, т.е реализацию компонентов, по людям (\"ты пиши краулер, а ты – сделай плз model inference API\"). Выглядела первая схема так:\u003C\u002Fp\u003E\u003Cfigure class=\"full-width \"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb9b\u002F19d\u002Fde1\u002Fb9b19dde1b507e5f0076ae917d827f7e.png\" alt=\"Первая версия архитектуры приложения\" title=\"Первая версия архитектуры приложения\" width=\"1907\" height=\"1573\" sizes=\"(max-width: 780px) 100vw, 50vw\" srcset=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb9b\u002F19d\u002Fde1\u002Fb9b19dde1b507e5f0076ae917d827f7e.png 780w,&#10;       https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw1560\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Fb9b\u002F19d\u002Fde1\u002Fb9b19dde1b507e5f0076ae917d827f7e.png 781w\" loading=\"lazy\" decode=\"async\"\u002F\u003E\u003Cfigcaption\u003EПервая версия архитектуры приложения\u003C\u002Ffigcaption\u003E\u003C\u002Ffigure\u003E\u003Cp\u003EИдея такая:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003Eкраулер\u003C\u002Fem\u003E по графику ходит в веб, забирает свежие новости и кладет их в \u003Cem\u003Eбазу;\u003C\u002Fem\u003E\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eесть обученная модель и \u003Cem\u003Emodel API, \u003C\u002Fem\u003Eк которому можно обратиться с любым текстом и получить в ответ предсказанные значения для положительной, нейтральной и негативной тональности;\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003Eсервис \u003Cem\u003Emodel scorer \u003C\u002Fem\u003Eпроверяет\u003Cem\u003E \u003C\u002Fem\u003Eсвежие новости в \u003Cem\u003Eбазе\u003C\u002Fem\u003E, если есть, то забирает все новости без прогнозов, дергает\u003Cem\u003E model API, \u003C\u002Fem\u003Eполучает прогнозы и пишет новости в базу   с флагом, что эти новости уже \"проскорены\";\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003E\u003Cem\u003Eфронтенд\u003C\u002Fem\u003E общается с \u003Cem\u003Eбазой, \u003C\u002Fem\u003Eзабирая какую-то метрику (например, средняя за день предсказанная величина положительной тональности) и рисует ее. Также \u003Cem\u003Eфронтенд \u003C\u002Fem\u003Eможет напрямую общаться с \u003Cem\u003Emodel API, \u003C\u002Fem\u003Eчтоб выдавать прогноз для текста, введенного пользователем.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EКазалось все складно, но когда каждый начал реализовывать свой компонент решения, дело немного тормознулось, потому что компоненты-то взаимодействуют между собой. Условно, Паша допилил краулер и уже готов писать новости в базу, но Лена еще не подняла базу. Юля пишет model scorer, но ждет пока Гена поднимет API с моделькой. \u003C\u002Fp\u003E\u003Cp\u003EВ итоге тимлид засучил рукава и запилил первый MVP с мок-версими каждого из компонентов (условно, краулер тащит 50 новостей с \u003Ca href=\"https:\u002F\u002Fbitcointicker.co\u002Fnews\u002F\"\u003Ehttps:\u002F\u002Fbitcointicker.co\u002Fnews\u003C\u002Fa\u003E, а не делает что-то более умное, не фильтрует новости, хотя надо бы. Моделька – tf-idf &amp; logreg, а не BERT, фронтенд – простая streamlit-демка и т.д.), но с прописанным взаимодействием компонентов. После того как прототип был готов, уже понеслось, понятно было, как совершенствовать каждый из сервисов. \u003C\u002Fp\u003E\u003Cp\u003EНо получилось, что на какие-то 8-10 дней тимлид был боттлнеком и команда по сути его ждала. Буду рад в коментах обсудить более эффективные варианты старта проекта. \u003C\u002Fp\u003E\u003Ch2\u003EВыводы\u003C\u002Fh2\u003E\u003Cp\u003EНесмотря на описанные сложности, хочется закончить на позитивной ноте и поделиться тем, к чему мы пришли (можно рассматривать как советы начинающим DS-ам или разработчикам):\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EПоработать в команде над интересным проектом – очень крутой опыт, он и сам по себе полезен, и “продавать” его тоже можно на собеседованиях.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EОчень важно иметь дедлайн, скажем, конец соревнования на Kaggle или окончание курса.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EОптимальный размер команды – от 3 до 5 человек. Недаром и на Kaggle к этому пришли.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EХорошо бы довести пет-проект до красивой демки, на которую можно и в резюме сослаться и в любой ситуации хоть в лифте показать.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EНемного “галеры” привнести в душевный пет-проект не помешает: если обозначить цели (можно в формате OKR) и настроить базовые Scrum-ритуалы, будет более четкое понимание, кто что делает и куда команда движется.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EЗдорово в начале сотрудничества побрейнстормить: собраться и накидать идей, обсудить и приоретизировать (сервисы типа \u003Ca href=\"https:\u002F\u002Feasyretro.io\u002F\"\u003E\u003Cu\u003Ehttps:\u002F\u002Feasyretro.io\u002F\u003C\u002Fu\u003E\u003C\u002Fa\u003E хорошо для этого подходят).\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EОчень помогает делать мини-демки внутри команды. Даже если встречаться всего на час в неделю, имеет смысл начать с 20-минутной демки кого-то из участников (например, продемонстрировать продвижения с фронтендом или сервисом LabelStudio), а потом уже обычный стендап с обсуждением текущих задач.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EИ тут же перечислю участников проекта:\u003C\u002Fp\u003E\u003Cul\u003E\u003Cli\u003E\u003Cp\u003EЮрий Кашницкий \u003Ca class=\"mention\" href=\"\u002Fusers\u002Fyorko\"\u003E@yorko\u003C\u002Fa\u003E – тимлид, техлид, везде по чуть-чуть.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EВиктор Александрин \u003Ca class=\"mention\" href=\"\u002Fusers\u002FAlexandrinVictor\"\u003E@AlexandrinVictor\u003C\u002Fa\u003E (\u003Ca href=\"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fvictor-alexandrin-073699150\u002F\"\u003E\u003Cu\u003ELinkedIn\u003C\u002Fu\u003E\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Faleksandrinvictor\"\u003E\u003Cu\u003EGitHub\u003C\u002Fu\u003E\u003C\u002Fa\u003E) – очень продуктивный и MLE, и исследователь.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EЗалина Русинова \u003Ca class=\"mention\" href=\"\u002Fusers\u002FLinkaG\"\u003E@LinkaG\u003C\u002Fa\u003E – фронтенд-разработчик, исследователь.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003Cli\u003E\u003Cp\u003EАрсений Глотов \u003Ca class=\"mention\" href=\"\u002Fusers\u002Fsenyasenyasenya\"\u003E@senyasenyasenya\u003C\u002Fa\u003E (\u003Ca href=\"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Farseniy-glotov\u002F\"\u003E\u003Cu\u003ELinkedIn\u003C\u002Fu\u003E\u003C\u002Fa\u003E) – MLE, Data Engineer.\u003C\u002Fp\u003E\u003C\u002Fli\u003E\u003C\u002Ful\u003E\u003Cp\u003EЭто была одна из лучших команд, с которыми приходилось работать. От чистого сердца рекомендую хантить ребят (HR alert)!\u003C\u002Fp\u003E\u003Ch2\u003EБлагодарности\u003C\u002Fh2\u003E\u003Cp\u003EМы благодарим команду \u003Ca href=\"https:\u002F\u002Fods.ai\u002Ftracks\u002Fml-in-production-spring-22\"\u003E\u003Cu\u003Eкурса\u003C\u002Fu\u003E\u003C\u002Fa\u003E ODS по MLOps во главе с Павлом Кикиным за прекрасный курс, а также Никиту Захарова и Екатерину Крючкову за участие в первой фазе проекта и помощь с некоторыми идеями. Наконец, большое спасибо командам \u003Ca href=\"https:\u002F\u002Fwww.hostkey.ru\u002F\"\u003E\u003Cu\u003EHostkey\u003C\u002Fu\u003E\u003C\u002Fa\u003E (\u003Ca class=\"mention\" href=\"\u002Fusers\u002Fdasafyev\"\u003E@dasafyev\u003C\u002Fa\u003E\u003Ca class=\"mention\" href=\"\u002Fusers\u002Frimecode\"\u003E@rimecode\u003C\u002Fa\u003E) и \u003Ca href=\"https:\u002F\u002Fdstack.ai\u002F\"\u003E\u003Cu\u003Edstack.ai\u003C\u002Fu\u003E\u003C\u002Fa\u003E (Андрею Чепцову \u003Ca class=\"mention\" href=\"\u002Fusers\u002Fandreycheptsov\"\u003E@andreycheptsov\u003C\u002Fa\u003E) за щедро предоставленные вычислительные ресурсы.  \u003C\u002Fp\u003E\u003Cp\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"bitcoin"},{"titleHtml":"machine learning"},{"titleHtml":"docker-compose"},{"titleHtml":"docker"},{"titleHtml":"api"},{"titleHtml":"pet-project"},{"titleHtml":"mlops"},{"titleHtml":"scrum"},{"titleHtml":"okr"},{"titleHtml":"teamwork"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff61\u002Fec1\u002F0cd\u002Ff61ec10cdec6c32ebca0f4d3b0dc9f5e.png","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fupload_files\u002Ff61\u002Fec1\u002F0cd\u002Ff61ec10cdec6c32ebca0f4d3b0dc9f5e.png","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompanies\\\u002Fods\\\u002Farticles\\\u002F673376\\\u002F\"},\"headline\":\"Эй-Яй, крипта, MLOps и командный пет-проджект\",\"datePublished\":\"2022-06-30T16:01:16+03:00\",\"dateModified\":\"2022-07-04T23:35:27+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Yury Kashnitsky\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Привет! Усаживайтесь поудобней, в этой статье я расскажу, как мы командой пилили пет-проджект в рамках курса ODS по MLOps. Покажу не только финальный результат,...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompanies\\\u002Fods\\\u002Farticles\\\u002F673376\\\u002F#post-content-body\",\"about\":[\"c_ods\",\"h_open_source\",\"h_data_mining\",\"h_machine_learning\",\"h_pm\",\"f_develop\",\"f_management\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F673376\\\u002Fb6c4ce15346ff7ae150de7954b74555c\\\u002F\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Ff61\\\u002Fec1\\\u002F0cd\\\u002Ff61ec10cdec6c32ebca0f4d3b0dc9f5e.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fb81\\\u002F111\\\u002F04f\\\u002Fb8111104f7e886eecdef5740a443ea01.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fdb9\\\u002Fed8\\\u002F38a\\\u002Fdb9ed838ad9ba0fd3a064428ec6847f0.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F4b4\\\u002F95a\\\u002Fd3f\\\u002F4b495ad3f4915674d1158092d14b5a1e.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F4df\\\u002Fcb4\\\u002F4d8\\\u002F4dfcb44d8de8bc05d7748833afa90bce.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F93f\\\u002F93f\\\u002F375\\\u002F93f93f37547b6b1b77f7c40528205f47.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Faaf\\\u002F53a\\\u002F4fb\\\u002Faaf53a4fb0adf432c5b57701b01fed6d.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F437\\\u002F893\\\u002Fa4a\\\u002F437893a4ac75e3502bfa75479f2544cd.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F75b\\\u002F8af\\\u002F16b\\\u002F75b8af16ba673af59f9096763755fc2b.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F810\\\u002F06f\\\u002F0d1\\\u002F81006f0d11096300326e2519cbe83e8b.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F595\\\u002Feb0\\\u002F55f\\\u002F595eb055f882fb1cc7391cc88b040fbf.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F944\\\u002Fb92\\\u002F1db\\\u002F944b921dbd2f4616d7a3a561bac0e9a4.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F6f3\\\u002Fa44\\\u002Feb7\\\u002F6f3a44eb729e26a192c36d9706b69187.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F998\\\u002F5d7\\\u002F927\\\u002F9985d792727fc72288b6c05a0f8b0269.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F3fd\\\u002F2bc\\\u002Fcab\\\u002F3fd2bccabd48cf881730cc98f16bab7d.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002F093\\\u002F1af\\\u002Ff20\\\u002F0931aff202e6f0af8db5e69376765748.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fupload_files\\\u002Fb9b\\\u002F19d\\\u002Fde1\\\u002Fb9b19dde1b507e5f0076ae917d827f7e.png\"]}","metaDescription":"Привет! Усаживайтесь поудобней, в этой статье я расскажу, как мы командой пилили пет-проджект в рамках курса ODS по MLOps. Покажу не только финальный результат, но и немного расскажу про процесс...","mainImageUrl":null,"amp":true,"customTrackerLinks":[]},"polls":[],"commentsEnabled":{"status":true,"reason":null},"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"hasPinnedComments":false,"format":null,"banner":null,"multiwidget":null,"multiwidgetUuid":null,"readingTime":16,"complexity":null,"isEditorial":false,"allowedFeatures":{"isTestTargetAllow":true}}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"postReasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"viewedPosts":[],"myFeedFilter":{"complexity":"all","score":"all","types":["articles","posts","news"]},"myFeedIsApplyFilters":false,"myFeedIsForce":false,"karma":{"userReasonsList":null}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":""},"comments":{"articleComments":{},"articlePinnedComments":{},"searchCommentsResults":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":"","idempotenceKey":""}},"companies":{"companyRefs":{"ods":{"alias":"ods","imageUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fcompany\u002F5d0\u002Fe1e\u002Fb70\u002F5d0e1eb7036b66d4ff4a35ad6950cc3e.png","titleHtml":"Open Data Science","descriptionHtml":"Крупнейшее русскоязычное Data Science сообщество","relatedData":null,"statistics":{"subscribersCount":11680,"rating":80.69,"invest":null,"postsCount":186,"threadsCount":0,"newsCount":3,"vacanciesCount":0,"employeesCount":114,"careerRating":null},"foundationDate":{"year":"2015","month":"03","day":"12"},"location":{"city":{"id":"447159","title":"Москва"},"region":{"id":"1885","title":"Москва и Московская обл."},"country":{"id":"168","title":"Россия"}},"siteUrl":"http:\u002F\u002Fods.ai\u002F","staffNumber":"5 001–10 000 человек","registrationDate":"2017-02-16T19:05:46+00:00","representativeUser":null,"contacts":[{"title":"Сайт","url":"http:\u002F\u002Fods.ai\u002F","siteTitle":"Добро пожаловать на сайт сообщества Open Data Science! — Open Data Science","favicon":"https:\u002F\u002Fods.ai\u002Fods\u002Ffavicon\u002Ffavicon.ico"}],"settings":{"analyticsSettings":[],"branding":null,"status":"active","isStartup":true,"hasActivePolls":false,"shouldShowHabrAds":true},"metadata":{"titleHtml":"Open Data Science, Москва - Крупнейшее русскоязычное Data Science сообщество с 12 марта 2015 г.","title":"Open Data Science, Москва - Крупнейшее русскоязычное Data Science сообщество с 12 марта 2015 г.","keywords":["llm","chatgpt","нейросети","artificial intelligence","openai","нлп","python","machine learning","nlp (natural language processing)","искусственный интеллект","gpt","ai","рекомендательные системы","pet-project","recommender systems evaluation","recsys","gpt-4","natural language processing","машинное обучение","анализ текста"],"descriptionHtml":"186 статей от авторов компании Open Data Science","description":"186 статей от авторов компании Open Data Science"},"aDeskSettings":null,"careerAlias":null,"schoolAlias":null}},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"multiwidgets":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"multiwidgetLoading":false,"vacancies":{},"companiesGalleries":{},"companiesBanners":{},"companiesLandingVacancies":{},"companiesTechnologies":{},"workplaceInfo":null},"companyAdmin":{"companyInfo":null,"companyInfoLoading":false,"faqArticles":null,"brandingPreviewImageUrl":null,"jivoStatus":0,"adminNotifications":null,"availableInvitesCount":{}},"companyAdd":{"currentStep":"","stepsData":{},"uncompletedSteps":[],"isStepLoading":true,"isStepCommitting":false,"isInitialized":false,"agreementContent":""},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"pagesCount":0},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":true},"fixedBanner":{"isArticleStickyPanelVisible":false,"isArticleStickyPanelAtTheBottom":false,"isFixedBannerVisible":false,"isStickyPanelIconsHidden":false},"flows":{"updates":{}},"global":{"isPwa":false,"device":"desktop","isHabrCom":true,"requestId":"1a301a8adf080479679a7fec2729d933"},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"welcomePage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"query":{},"pathname":"\u002Fru\u002Fcompanies\u002Fods\u002Farticles\u002F673376\u002F","path":"\u002Fru\u002Fcompanies\u002Fods\u002Farticles\u002F673376\u002F","href":"\u002Fru\u002Fcompanies\u002Fods\u002Farticles\u002F673376\u002F"}},"me":{"user":null,"uuid":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null,"userUpdates":{"feeds":{"newPostsCount":null,"newThreadsCount":null,"newNewsCount":null,"newCount":null},"conversationUnreadCount":0},"features":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"onboarding":{"currentStep":null,"stepsData":{},"stepsErrors":{},"completedSteps":[],"isStepCommitting":false,"isCommitDisabled":true},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{"courses":"project-block-company-article"}},"promoData":{"isLoading":false,"hasLoaded":false,"featurer":null,"megaposts":null,"promoLinks":null,"promoPosts":null,"sticker":null},"publicationStatistics":{"statsInfo":{},"statsFunnels":{},"statsGraph":{},"defaultSuggest":{},"suggest":{},"timeTracker":{},"isTrackingActivity":false,"isUserActive":true,"otherPublicationStats":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"search":{"searchQueryError":null},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":true,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"stories":{"stories":null},"technotext":{"years":[],"technotextDocForNominees":null,"technotextDocForWinners":null,"technotextInfo":{},"technotextInfoLoading":false,"technotextWinners":{},"technotextWinnersLoading":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"userVotes":{"karmaVotesList":[],"karmaVotesPagesCount":null,"karmaVotesListLoading":false,"commentsVotesList":[],"commentsVotesPagesCount":null,"commentsVotesListLoading":false,"postsVotesList":[],"postsVotesPagesCount":null,"postsVotesListLoading":false,"userVotesList":[],"userVotesPagesCount":null,"userVotesListLoading":false},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"userSpecialization":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"notificationsLoading":false,"notificationsList":[],"notificationsPageCount":0,"pendingMarkNotificationsRead":[],"publicationsLoading":true,"publicationsList":[],"publicationsPageCount":0,"pendingDeletePublications":false,"pendingMarkPublicationsRead":false},"events":{"eventRefs":{},"eventIds":[],"pagesCount":0,"categories":[],"cities":[],"actualEvents":null,"currentEvent":null,"eventsFilter":{"city":"all","timeStarted":null,"timeEnded":null}},"wysiwyg":{"WYSIWYGRulesRefs":null},"refs":{"specializationRefs":[]},"hint":{"hints":{}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="https://assets.habr.com/habr-web/js/chunk-vendors.978df117.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.58b8c457.js" defer></script></div>
    <div id="overlays"><!----><!--teleport anchor--><!----><!--teleport anchor--><!----><!--teleport anchor--><!----><!--teleport anchor--><!----><!--teleport anchor--><!----><!--teleport anchor--></div>
    
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-S28W1WC23F"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

  </script>
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
    </body>

    </html>
